# PandaCoder

<p align="center">
  <img src="src/main/resources/META-INF/pluginIcon.svg" width="128" alt="PandaCoder Logo">
</p>

## 插件简介

PandaCoder 是一款专为中文母语的 Java/Kotlin 开发者设计的 IntelliJ IDEA 插件，聚焦于“中文思维 → 英文代码”的高效转换，极大提升中文开发者的编码体验和效率。

---

## 主要功能与特点

### 编辑器智能命名增强

- **中文转小驼峰/大驼峰/全大写**  
  支持选中中文文本后，一键转换为小驼峰（如 userName）、大驼峰（如 UserName）、全大写下划线（如 USER_NAME）等多种命名风格，自动去除无用词、提取关键词，适配代码实际场景。
- **智能精简转换**  
  针对长句描述，自动提取核心技术词汇，保证生成的英文命名简洁、专业、符合行业规范。
- **类名前缀智能识别**  
  支持“前缀:中文名”或“前缀中文名”格式，自动识别并组合前缀与翻译结果，生成如 ServiceUserManager、ControllerUserLogin 等规范类名，前缀可自定义。

### 智能中文类创建

- **中文类名自动转译**  
  在新建类、接口、枚举等文件时，支持直接输入中文，插件会自动翻译为符合英文命名规范的文件名并创建 Java 文件。
- **多文件类型支持**  
  支持类、接口、记录、枚举、注解、异常等多种 Java 文件类型的智能创建。

### 多引擎智能翻译

- **三级翻译引擎优先级**  
  内置国内主流大模型（通义千问、文心一言、智谱AI）、Google Cloud Translation、百度翻译三大翻译引擎，自动优选可用引擎，保障翻译质量与可用性。
- **自定义翻译提示词**  
  支持自定义翻译 prompt，适配不同技术领域和团队风格，提升术语准确性。
- **API 智能检测与错误提示**  
  自动检测各翻译引擎配置，详细提示错误原因，支持一键验证 API 配置。

### Jenkins Pipeline 增强支持

- **Jenkinsfile 文件类型识别**  
  自动识别 Jenkinsfile、Jenkinsfile.*、*.jenkinsfile 等多种命名模式，文件类型在状态栏和文件树中均有专属标识。
- **专属语法高亮与自定义配色**  
  基于 Groovy 语法高亮，增强 Jenkins Pipeline 关键字、块、变量、步骤等元素的高亮显示，支持自定义配色方案，提升可读性和美观度。
- **专属文件图标**  
  Jenkinsfile 文件拥有独立 SVG 图标，且不受主题覆盖，文件树、标签页均可见。
- **GDSL 智能补全**  
  集成 GDSL 脚本，支持 Pipeline 语法的智能补全和文档提示，提升编辑效率。
- **环境变量与参数补全**  
  对 env、params 等对象提供键值补全和类型推断，减少手动查找文档的时间。

### 用户体验与配置

- **多标签页配置界面**  
  插件设置界面分为翻译引擎、提示词、模板、百度翻译等多个标签页，结构清晰，易于查找和配置。
- **配置项中文化**  
  所有配置项均为中文标签，降低使用门槛。
- **配置验证缓存**  
  避免重复验证，提升响应速度。
- **详细错误反馈**  
  API 配置错误时，提供具体错误码和解决建议。

### 其他亮点

- **本地化体验**  
  完全贴合中文开发者的思维和工作流，支持中文界面和提示。
- **安全的凭据存储**  
  API 密钥安全存储，不明文显示。
- **高兼容性与性能优化**  
  兼容多版本 IntelliJ IDEA，采用模块化设计，性能影响极小。

---

## 适用场景

- 需要在中文环境下高效开发 Java/Kotlin 项目
- 团队希望统一英文命名规范，减少命名歧义
- Jenkins Pipeline 脚本开发与维护
- 需要多引擎智能翻译和本地化体验的开发者

---

如需更详细的功能说明和使用方法，请参考 docs 目录下的相关文档。

---

## 作者介绍

### 舒一笑 - 「云卷云舒，学无止境，焕然一新」

### 专业认证
- **生成式AI应用工程师(高级)认证**
- **阿里云博客专家**
- **Java应用开发职业技能等级认证**

### 技术领域
- Java/Kotlin 企业级应用开发
- 微服务架构设计与实现
- 大数据处理与分析
- AI辅助开发工具研究

### 联系方式
- **个人博客**：[www.shuyixiao.cloud](https://www.shuyixiao.cloud) - 分享技术文章与开发心得
- **公众号**：「舒一笑的架构笔记」- 关注获取最新开发技巧和行业动态
- **GitHub**：[github.com/shuyixiao-better](https://github.com/shuyixiao-better)

---

## 项目说明

PandaCoder 是一款专为中文母语的 Java/Kotlin 开发者设计的 IntelliJ IDEA 插件，帮助开发者轻松实现「中文思维->英文代码」的无缝转换。

在全球化软件开发环境中，中文开发者常常需要在思考问题时使用母语，而在编写代码时又必须使用英文。这种语言切换不仅消耗精力，有时还会导致命名不准确、不专业或不符合行业惯例的问题。PandaCoder 正是为解决这一痛点而生，让您可以专注于业务逻辑，而不必为英文命名而烦恼。

### 为什么叫「熊猫编码助手」？

熊猫是中国的国宝，备受世界喜爱，代表着中国特色和亲和力。同样，这个插件旨在成为中文开发者的得力助手，帮助您以中文思考，却能输出符合国际标准的英文代码。

### 核心功能

只需三步，即可实现从中文到英文代码的快速转换：

1. **直接输入中文**：按照中文思维直接输入类名、方法名或变量名
2. **AI智能翻译**：利用百度翻译API将中文转换为地道英文
3. **一键生成代码**：自动创建符合命名规范的骨架代码文件

### 类名前缀功能

为满足更专业、更规范的命名需求，PandaCoder 现在支持类名前缀功能：

- **灵活的前缀语法**：支持「前缀:中文名」和「前缀中文名」两种模式
- **自定义前缀列表**：可在设置中配置常用前缀，如Service、Controller等
- **智能识别与组合**：自动识别前缀，翻译中文部分，组合为规范的类名

例如：输入「Service:用户管理」→ 自动生成「ServiceUserManagement」类

### 主要价值

- **提升效率**：省去手动命名、查字典、创建文件的繁琐步骤
- **降低心智负担**：让开发者专注于业务逻辑而非英文命名规范
- **保持代码质量**：确保生成的类名准确、符合英文惯用命名法
- **本土化体验**：完全符合中文开发者的思维习惯和工作流程

## 技术栈

- **Java 17**：采用 Java 17 作为开发语言，确保与最新 IntelliJ IDEA 兼容
- **百度翻译 API**：提供高质量的中英文翻译服务
- **IntelliJ Platform SDK**：利用 IntelliJ 平台提供的丰富 API 进行插件开发
- **Gradle**：用于项目构建和依赖管理

## 配置说明

### 百度翻译API配置

要使用PandaCoder的翻译功能，您需要配置百度翻译API。插件提供了多种配置方式：

#### 方法1：通过插件设置面板配置（推荐）

1. 在IDEA中，打开 Settings → Tools → PandaCoder
2. 填写您的百度API密钥和应用ID
3. 点击「验证API配置」按钮测试配置是否正确
4. 点击「Apply」保存设置

> **安全说明**：API密钥将以安全方式存储在IDE的配置中，不会明文显示。

#### 方法2：使用环境变量

```bash
# Windows 系统
set BAIDU_API_KEY=您的百度API密钥
set BAIDU_APP_ID=您的百度APP_ID

# macOS/Linux 系统
export BAIDU_API_KEY=您的百度API密钥
export BAIDU_APP_ID=您的百度APP_ID
```

#### 方法3：在 IDEA 中配置环境变量

1. 打开 Run → Edit Configurations
2. 选择您的运行配置
3. 在 Environment variables 中添加：
   - `BAIDU_API_KEY=您的百度API密钥`
   - `BAIDU_APP_ID=您的百度APP_ID`

本项目已经在 `build.gradle` 中配置了自动读取环境变量的功能，会自动将环境变量值传递给系统属性。

#### 获取百度翻译API密钥和应用ID

1. 访问[百度翻译开放平台](https://fanyi-api.baidu.com/)
2. 注册/登录账号
3. 创建翻译服务应用
4. 获取API密钥和应用ID

> **注意**：百度翻译API提供免费额度，但有调用次数限制。详情请参考百度翻译开放平台的计费规则。

## 安装指南

### 从 JetBrains 插件市场安装

1. 在 IntelliJ IDEA 中，打开 Settings/Preferences → Plugins
2. 切换到 Marketplace 标签
3. 搜索 "PandaCoder"
4. 点击 Install 按钮
5. 重启 IDE 完成安装

### 手动安装

1. 从 [GitHub Releases](https://github.com/shuyixiao-better/PandaCoder/releases) 下载最新版本的插件 ZIP 文件
2. 在 IntelliJ IDEA 中，打开 Settings/Preferences → Plugins
3. 点击 ⚙️ 图标，选择 "Install Plugin from Disk..."
4. 选择下载的 ZIP 文件
5. 重启 IDE 完成安装

## 构建说明

本项目使用Gradle构建，支持Java 17。

```bash
./gradlew build
```

## 功能特性

### 严格的API验证机制

为确保翻译功能的可靠性，PandaCoder实现了严格的API验证机制：

- **实时连接测试**：验证按钮会向百度翻译API发送真实请求，确保配置的正确性
- **详细的错误反馈**：当API配置有误时，提供具体错误原因和解决方案
- **智能错误码解析**：自动解析百度API返回的错误码，转换为用户友好的提示信息
- **安全的凭据存储**：API密钥以安全方式存储，不会明文显示

### 智能翻译优化

- **语境感知翻译**：考虑编程上下文的翻译，确保生成符合编程习惯的命名
- **预处理优化**：自动清理中文输入中的特殊字符和标点，提高翻译质量
- **缓存机制**：减少重复API调用，提高响应速度
- **离线应急模式**：当API不可用时，提供基本的本地翻译功能

### 用户体验增强

- **进度指示器**：API测试过程中显示进度，提供良好的用户反馈
- **友好的错误提示**：将技术错误转换为用户可理解的语言
- **配置验证缓存**：减少重复验证，提高插件响应速度

## 使用说明

### 中文转小驼峰

1. 在编辑器中选中中文文本
2. 右键点击，选择「中文转小驼峰」或使用快捷键 `Ctrl+Alt+C`
3. 中文会被翻译成英文并转换为小驼峰命名格式

### 中文转大驼峰

1. 在编辑器中选中中文文本
2. 右键点击，选择「中文转大驼峰」或使用快捷键 `Ctrl+Alt+P`
3. 中文会被翻译成英文并转换为大驼峰命名格式

### 中文转全大写

1. 在编辑器中选中中文文本
2. 右键点击，选择「中文转全大写」或使用快捷键 `Ctrl+Alt+U`
3. 中文会被翻译成英文并转换为全大写格式（单词间用下划线分隔）

### 中文类名翻译

1. 在项目视图中右键点击目标目录
2. 选择「中文类名翻译」或使用快捷键 `Ctrl+Alt+T`
3. 选择要创建的文件类型（类、接口、记录、枚举、注解、异常）
4. 输入中文类名，点击确定
5. 插件会自动将中文翻译为英文并创建相应的Java文件

### 使用类名前缀功能

1. 在插件设置中配置您常用的前缀（Settings → Tools → PandaCoder设置）
2. 在创建新类时，使用以下格式输入类名：
   - `Service:用户管理` → 生成 ServiceUserManagement 类
   - `Controller用户登录` → 生成 ControllerUserLogin 类
3. 插件会自动识别前缀，翻译中文部分，并组合为规范的类名

> **提示**：前缀区分大小写，请确保与配置中的前缀大小写一致。详细说明请查看插件文档。

### 百度翻译API配置与测试

1. 在IDEA设置中，导航至 Settings → Tools → PandaCoder
2. 填写您的百度翻译API密钥和应用ID
3. 点击「验证API配置」按钮进行真实连接测试
4. 系统会向百度翻译服务发送实际请求，验证您的凭据是否有效
5. 测试结果将显示详细信息：
   - 成功：显示API已正确配置，可以正常使用
   - 失败：显示具体错误原因，如密钥错误、账户余额不足等

> **重要提示**：API测试会进行实际网络连接，真正验证您的API密钥和应用ID是否有效，而不仅仅是检查是否填写了内容。这确保了翻译功能在使用前已经过充分验证。

#### API错误代码解释

当API测试失败时，系统会根据百度翻译API返回的错误代码提供以下详细解释：

| 错误代码 | 友好提示 | 解决方案 |
|---------|--------|----------|
| 52001 | 请求超时 | 检查网络连接或稍后重试 |
| 52003 | 未授权用户 | API密钥或应用ID不正确 |
| 54001 | 签名错误 | 检查您的API密钥是否正确 |
| 54004 | 账户余额不足 | 前往百度翻译开放平台充值 |

## 用户反馈与案例分享

### 用户心声

> "作为一名非英语母语的开发者，PandaCoder 让我能够专注于解决业务问题，而不是纠结于如何用英文准确表达类名和方法名。这大大提高了我的开发效率！" — 张工，资深Java开发工程师

> "团队引入 PandaCoder 后，我们的命名规范变得更加统一，代码可读性也提高了。特别是对于初级开发者，减少了很多命名方面的错误。" — 李总，技术团队负责人

## 赞助作者

如果您觉得PandaCoder对您的工作有所帮助，欢迎给作者买杯咖啡，支持插件的持续开发与维护！

<p align="center">
  <img src="images/alipay.jpg" width="300" alt="支付宝收款码">
  <img src="images/wechat.jpg" width="300" alt="微信收款码">
</p>

<p align="center">感谢您的支持！每一份赞助都是对我工作的肯定和鼓励。</p>

### 成功案例

- **某金融科技公司**：引入 PandaCoder 后，新功能开发速度提升 20%，代码审查中命名相关问题减少 35%
- **某初创团队**：帮助非英语背景的开发者快速适应国际化项目，降低了语言障碍

## 开源与协作

PandaCoder 是一个开源项目，我们欢迎社区贡献。无论是功能建议、Bug 报告还是代码贡献，都能帮助我们打造更好的工具。

- **GitHub 仓库**：[https://github.com/shuyixiao-better/PandaCoder](https://github.com/shuyixiao-better/PandaCoder)
- **问题反馈**：通过 GitHub Issues 提交问题
- **贡献代码**：欢迎提交 Pull Request

## 未来规划

我们正在规划以下功能，让 PandaCoder 变得更加强大：

- **多语言支持**：扩展到更多编程语言，如 Python、Go、JavaScript 等
- **更智能的翻译**：引入大型语言模型，提供更加精准的专业术语翻译
- **上下文感知**：根据项目已有代码，提供更符合项目风格的命名建议
- **批量重命名**：支持对多个中文命名的类或方法进行批量翻译和重构
- **命名历史记录**：记录常用的中英文映射，提高重复使用场景下的效率
- **增强的前缀功能**：支持项目级前缀配置、模块化前缀管理，以及更丰富的前缀智能匹配规则

## 许可证

请参阅项目中的LICENSE文件。
