# Git 统计邮件配置丢失问题 - 用户指南

## 🎯 如果您遇到配置丢失的问题

### 问题现象

在插件更新后，打开 Git 统计工具窗口，发现之前配置的邮箱信息（SMTP服务器、邮箱账号、密码等）都消失了。

### 为什么会出现这个问题？

在 **2.1.0 版本之前**，邮件配置存储在一个可能在插件更新时被清理的位置，导致配置丢失。

### 我们做了什么？

从 **2.1.0 版本开始**，我们已经完全修复了这个问题：

✅ **优化了配置存储位置** - 使用更稳定的存储机制  
✅ **添加了自动检测** - 系统会自动检测配置丢失并提示您  
✅ **增强了配置可靠性** - 今后不会再出现配置丢失问题  

---

## 📝 解决方案

### 步骤 1: 重新配置（仅需一次）

1. 打开 **Git Statistics** 工具窗口
2. 点击 **"邮件配置"** 标签
3. 重新填写以下信息：
   - SMTP 服务器地址（如：smtp.gmail.com）
   - SMTP 端口（如：587）
   - 发送者邮箱
   - 发送者密码（SMTP 授权码）
   - 接收者邮箱
4. 点击 **"保存配置"**

### 步骤 2: 验证配置

1. 点击 **"测试连接"** 按钮
2. 如果显示"连接成功"，说明配置正确
3. 可以点击 **"发送测试邮件"** 验证邮件发送功能

### 步骤 3: 完成！

✅ 配置已保存到更安全的位置  
✅ 今后插件更新不会再丢失配置  
✅ 可以放心使用邮件功能  

---

## 🔔 系统会自动提示您

如果系统检测到配置可能丢失，会弹出以下通知：

```
📧 Git 统计邮件配置

检测到您之前配置过 Git 统计邮件功能，但配置可能在插件更新后丢失。
请重新配置邮箱信息，我们已优化配置存储机制，此问题不会再次出现。

[重新配置]
```

点击 **"重新配置"** 按钮即可快速打开配置界面。

---

## 🛡️ 预防措施

### 建议保存以下信息

为了以防万一，建议您将以下配置信息保存在安全的地方：

- **SMTP 服务器**: smtp.gmail.com（或其他）
- **SMTP 端口**: 587（或 465）
- **邮箱账号**: your-email@gmail.com
- **SMTP 授权码**: （不是邮箱密码，是 SMTP 专用密码）

### 如何获取 SMTP 授权码？

不同邮件服务商的授权码获取方式不同：

#### Gmail
1. 访问 Google 账户安全设置
2. 启用"两步验证"
3. 生成"应用专用密码"

#### QQ 邮箱
1. 登录 QQ 邮箱网页版
2. 设置 → 账户
3. 开启 POP3/SMTP 服务
4. 生成授权码

#### 163 邮箱
1. 登录 163 邮箱网页版
2. 设置 → POP3/SMTP/IMAP
3. 开启服务并获取授权码

---

## ❓ 常见问题

### Q1: 我需要经常重新配置吗？

**不需要**！从 2.1.0 版本开始，只需要重新配置一次，今后插件更新时配置会自动保留。

### Q2: 我的密码安全吗？

是的！密码使用 AES 加密存储，并且密钥基于您的项目路径生成，确保安全性。

### Q3: 如果我没收到通知怎么办？

您可以手动检查配置：
1. 打开 Git Statistics 工具窗口
2. 点击"邮件配置"标签
3. 检查配置信息是否完整

### Q4: 配置保存在哪里？

配置现在保存在项目的工作空间文件（`.idea/workspace.xml`）中，这个文件更稳定，不会在插件更新时丢失。

### Q5: 我可以在多个项目中使用不同的配置吗？

可以！配置是项目级的，每个项目可以有独立的邮件配置。

---

## 🎉 更新到最新版本

如果您还在使用旧版本，强烈建议更新到 **2.1.0** 或更高版本：

1. 打开 IntelliJ IDEA
2. Settings → Plugins
3. 搜索 "PandaCoder"
4. 点击 "Update" 更新到最新版本

---

## 📞 需要帮助？

如果您遇到任何问题，欢迎：

- 📧 发送邮件至: yixiaoshu88@163.com
- 💬 关注公众号: **舒一笑的架构笔记**
- 🐛 提交 Issue: [GitHub Issues](https://github.com/yourusername/PandaCoder/issues)

---

**最后更新**: 2025-10-23  
**版本**: 2.1.0  
**作者**: 舒一笑不秃头

