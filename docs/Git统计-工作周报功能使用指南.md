# Git 统计 - 工作周报功能使用指南

## 📝 功能概述

工作周报功能可以自动提取本周的 Git 提交日志，并通过 AI 大模型生成一份专业的工作周报。支持魔力方舟（Gitee AI）等 AI 平台，帮助开发者快速总结本周工作内容。

## 🚀 主要特性

- ✅ **自动提取本周提交**：自动获取本周一到本周日的所有 Git 提交记录
- ✅ **作者筛选**：支持按作者筛选提交记录，可生成个人周报或团队周报
- ✅ **AI 智能生成**：调用 AI 大模型，智能分析提交日志并生成周报
- ✅ **流式响应**：支持流式输出，实时查看 AI 生成进度
- ✅ **可配置提示词**：支持自定义提示词模板，适配不同的周报风格
- ✅ **一键复制**：生成的周报可一键复制到剪贴板
- ✅ **配置持久化**：API 配置自动保存，无需重复配置

## 📋 使用步骤

### 1. 打开工作周报标签页

在 IDEA 右侧工具栏找到 **Git Statistics** 工具窗口，点击打开后选择 **📝 工作周报** 标签页。

### 2. 配置 AI API

首次使用需要配置 AI API 信息：

#### 魔力方舟（Gitee AI）配置示例

1. **API 地址**：`https://ai.gitee.com/v1/chat/completions`
2. **API 密钥**：在 [魔力方舟平台](https://ai.gitee.com/) 获取您的 API Key
3. **模型名称**：`Qwen3-235B-A22B-Instruct-2507`（或其他支持的模型）
4. **提示词模板**：
```
请根据以下 Git 提交日志，生成一份本周工作周报。要求：
1. 总结本周主要完成的工作内容
2. 按功能模块分类整理
3. 突出重点和亮点
4. 语言简洁专业

Git 提交日志：
{commits}
```

> 注意：提示词模板中的 `{commits}` 是占位符，会被实际的提交日志替换。

配置完成后，点击 **保存配置** 按钮。

### 3. 选择作者（可选）

在 **选择作者** 下拉框中，可以选择要统计的作者：

- **全部作者**：统计项目中所有人的提交记录（适合生成团队周报）
- **特定作者**：只统计选中作者的提交记录（适合生成个人周报）

如果作者列表为空或需要更新，可以点击 **刷新作者列表** 按钮。

### 4. 加载本周提交

点击 **加载本周提交** 按钮，系统会自动提取本周（周一到周日）的 Git 提交记录。

提交日志格式示例：
```
=== 本周提交统计 ===
时间范围：2024-01-15 至 2024-01-21
筛选作者：张三 <zhangsan@example.com>
提交记录：

2024-01-15 10:30:00 | 张三 | feat: 添加用户登录功能
2024-01-15 14:20:00 | 张三 | fix: 修复登录页面样式问题
2024-01-16 09:15:00 | 张三 | refactor: 重构用户服务层代码
```

### 5. 生成周报

点击 **生成周报** 按钮，系统会：
1. 将提交日志和提示词模板组合
2. 调用 AI API 进行分析
3. 实时显示 AI 生成的周报内容

生成过程中可以看到流式输出，AI 会逐字生成周报内容。

### 6. 复制周报

周报生成完成后，点击 **复制周报** 按钮，即可将周报内容复制到剪贴板，方便粘贴到其他地方使用。

## 🎨 提示词模板自定义

您可以根据需要自定义提示词模板，以适应不同的周报风格：

### 简洁版
```
请根据以下提交日志，简要总结本周工作：
{commits}
```

### 详细版
```
请根据以下 Git 提交日志，生成一份详细的工作周报。要求：
1. 按日期分组展示每天的工作内容
2. 统计本周代码提交次数和主要改动
3. 总结本周完成的主要功能和修复的问题
4. 列出下周计划（如果提交信息中有相关内容）
5. 使用 Markdown 格式输出

Git 提交日志：
{commits}
```

### 团队汇报版
```
请根据以下 Git 提交日志，生成一份适合团队汇报的工作周报。要求：
1. 突出本周的核心成果和亮点
2. 按业务模块分类整理
3. 量化工作成果（如完成功能数、修复 bug 数等）
4. 语言专业、简洁，适合向上级汇报
5. 使用项目符号和标题组织内容

Git 提交日志：
{commits}
```

## ⚙️ 配置说明

### API 地址
AI 服务的 API 端点地址。不同的 AI 平台有不同的地址。

### API 密钥
用于认证的 API Key，需要在对应的 AI 平台申请。

### 模型名称
使用的 AI 模型名称，不同模型有不同的能力和价格。

### 提示词模板
用于指导 AI 生成周报的提示词，必须包含 `{commits}` 占位符。

## 🔧 常见问题

### Q1: 提示 "未找到 Git 仓库"
**A**: 确保您的项目是一个 Git 仓库，并且已经正确初始化。

### Q2: 提示 "本周暂无提交记录" 或 "本周暂无该作者的提交记录"
**A**:
- 检查本周（周一到周日）是否有提交记录
- 如果选择了特定作者，检查该作者本周是否有提交
- 如果是周一早上，可能还没有本周的提交
- 可以尝试选择"全部作者"查看是否有其他人的提交

### Q3: API 调用失败
**A**: 请检查：
- API 地址是否正确
- API 密钥是否有效
- 网络连接是否正常
- API 配额是否充足

### Q4: 生成的周报质量不理想
**A**: 可以尝试：
- 优化提示词模板，提供更明确的要求
- 更换更强大的 AI 模型
- 确保提交信息本身足够清晰和规范

### Q5: 如何获取魔力方舟 API Key？
**A**: 
1. 访问 [魔力方舟平台](https://ai.gitee.com/)
2. 注册/登录账号
3. 在个人中心或 API 管理页面创建 API Key
4. 复制 API Key 并粘贴到配置中

## 💡 最佳实践

### 1. 选择合适的作者范围
- **个人周报**：选择自己的名字，生成个人工作总结
- **团队周报**：选择"全部作者"，生成团队整体工作总结
- **成员周报**：选择团队成员的名字，了解成员的工作情况

### 2. 规范提交信息
为了生成更好的周报，建议使用规范的提交信息格式：
```
<type>: <subject>

<body>
```

例如：
- `feat: 添加用户登录功能`
- `fix: 修复订单计算错误`
- `refactor: 重构支付模块代码`
- `docs: 更新 API 文档`

### 3. 定期生成周报
建议每周五下午生成周报，这样可以：
- 及时总结本周工作
- 为周会做准备
- 记录工作进展

### 4. 保存周报记录
生成的周报可以：
- 复制到文档中保存
- 发送给团队成员
- 作为绩效考核的参考

### 5. 调整提示词
根据实际需求调整提示词模板：
- 向上级汇报：突出成果和价值
- 团队分享：详细说明技术细节
- 个人记录：记录学习和成长

## 🎯 未来规划

- [ ] 支持更多 AI 平台（OpenAI、Claude 等）
- [ ] 支持自定义时间范围（不限于本周）
- [x] ~~支持按作者筛选提交~~ ✅ 已完成
- [ ] 支持周报模板管理
- [ ] 支持周报历史记录
- [ ] 支持导出为 Markdown/PDF 文件
- [ ] 支持多作者批量生成周报

## 📞 反馈与支持

如果您在使用过程中遇到问题或有改进建议，欢迎：
- 提交 Issue
- 发送邮件至：yixiaoshu88@163.com
- 访问项目主页：https://www.shuyixiao.top

---

**享受智能周报生成，让工作总结更轻松！** 🎉

