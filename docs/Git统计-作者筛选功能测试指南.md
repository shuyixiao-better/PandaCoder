# Git统计 - 作者筛选功能测试指南

## 测试环境准备

1. **启动插件**
   - 在IDEA中打开一个Git项目
   - 打开Git统计工具窗口

2. **刷新数据**
   - 点击"刷新数据"按钮
   - 等待数据加载完成

## 测试用例

### 测试用例 1：查看全部作者统计

**目的**：验证默认情况下显示所有作者的每日统计

**步骤**：
1. 打开"作者每日统计"标签页
2. 确认作者选择框显示"全部作者"
3. 确认时间范围选择框显示默认值（如"最近7天"）

**预期结果**：
- 表格中显示所有作者在指定时间范围内的每日统计
- 数据按日期和作者名排序
- 每行显示：日期、作者、提交次数、新增行数、删除行数、净变化

---

### 测试用例 2：选择特定作者

**目的**：验证选择特定作者后只显示该作者的统计

**步骤**：
1. 在"作者每日统计"标签页中
2. 点击"选择作者"下拉框
3. 选择某个具体的作者名称（如"ShuYixiao"）

**预期结果**：
- 表格自动刷新
- 只显示选中作者的每日统计数据
- 其他作者的数据不再显示
- 作者列显示的都是同一个作者名

---

### 测试用例 3：切换时间范围

**目的**：验证时间范围筛选功能

**步骤**：
1. 选择某个作者（或保持"全部作者"）
2. 依次切换时间范围：
   - 最近7天
   - 最近30天
   - 最近90天
   - 全部

**预期结果**：
- 每次切换后表格自动更新
- 显示的数据日期范围符合选择
- 数据量随时间范围扩大而增加

---

### 测试用例 4：组合筛选

**目的**：验证作者选择和时间范围的组合筛选

**步骤**：
1. 选择某个作者
2. 选择"最近7天"
3. 记录显示的数据
4. 切换到"最近30天"
5. 对比数据变化

**预期结果**：
- 两次显示的数据都只包含选中的作者
- "最近30天"的数据应该包含"最近7天"的所有数据
- 日期范围正确

---

### 测试用例 5：切换回全部作者

**目的**：验证从特定作者切换回全部作者

**步骤**：
1. 先选择某个特定作者
2. 确认只显示该作者数据
3. 切换回"全部作者"

**预期结果**：
- 表格恢复显示所有作者的数据
- 数据量增加
- 作者列显示多个不同的作者名

---

### 测试用例 6：作者列表内容验证

**目的**：验证作者下拉框中的作者列表

**步骤**：
1. 点击"选择作者"下拉框
2. 查看列表内容

**预期结果**：
- 第一项是"全部作者"
- 后续列出项目中所有有提交记录的作者
- 作者名称按字母顺序排序
- 没有重复的作者名

---

### 测试用例 7：刷新数据后状态保持

**目的**：验证刷新数据后用户选择是否保持

**步骤**：
1. 选择某个特定作者（如"ShuYixiao"）
2. 点击工具栏的"刷新数据"按钮
3. 等待刷新完成

**预期结果**：
- 刷新完成后，作者选择框仍然显示之前选中的作者
- 表格仍然只显示该作者的数据
- 用户不需要重新选择

---

### 测试用例 8：空数据场景

**目的**：验证没有数据时的显示

**步骤**：
1. 选择某个作者
2. 选择"最近7天"
3. 如果该作者最近7天没有提交，观察显示

**预期结果**：
- 表格为空或显示提示信息
- 不会出现错误
- 可以正常切换到其他选项

---

### 测试用例 9：快速切换作者

**目的**：验证快速切换作者时的性能和稳定性

**步骤**：
1. 快速连续切换多个不同的作者
2. 观察表格更新情况

**预期结果**：
- 每次切换都能正确更新
- 没有界面卡顿或错误
- 最终显示的是最后选择的作者数据

---

### 测试用例 10：与其他标签页的独立性

**目的**：验证作者筛选不影响其他标签页

**步骤**：
1. 在"作者每日统计"中选择特定作者
2. 切换到"作者统计"标签页
3. 切换到"每日统计"标签页
4. 切换回"作者每日统计"标签页

**预期结果**：
- 其他标签页的数据显示正常，不受影响
- 回到"作者每日统计"时，之前的选择仍然保持
- 各标签页功能独立

---

## 边界情况测试

### 边界1：单作者项目
- 项目中只有一个作者时，下拉框应该显示"全部作者"和该作者
- 选择该作者和选择"全部作者"应该显示相同的数据

### 边界2：多作者同日提交
- 同一天多个作者都有提交时
- "全部作者"模式应该显示多条记录（每个作者一条）
- 选择特定作者应该只显示该作者的那一条

### 边界3：作者名称包含特殊字符
- 如果作者名中有空格、中文、特殊符号
- 应该能正常显示和选择
- 数据筛选正确

---

## 性能测试

### 性能1：大数据量
- 项目历史较长（如1000+提交）
- 作者较多（如10+作者）
- 选择和切换应该在1秒内完成

### 性能2：频繁操作
- 连续快速切换作者和时间范围
- 不应该出现延迟累积
- 界面保持流畅

---

## 回归测试

验证原有功能没有被破坏：

1. **作者统计标签页**：显示正常，排序功能正常
2. **每日统计标签页**：显示正常，时间范围筛选正常
3. **项目代码统计**：显示正常
4. **总览**：显示正常
5. **刷新数据按钮**：功能正常
6. **导出统计**：功能正常

---

## 测试报告模板

```
测试日期：____________________
测试人员：____________________
插件版本：____________________

| 测试用例 | 状态 | 备注 |
|---------|------|------|
| 测试用例1 | ☐ 通过 ☐ 失败 | |
| 测试用例2 | ☐ 通过 ☐ 失败 | |
| 测试用例3 | ☐ 通过 ☐ 失败 | |
| 测试用例4 | ☐ 通过 ☐ 失败 | |
| 测试用例5 | ☐ 通过 ☐ 失败 | |
| 测试用例6 | ☐ 通过 ☐ 失败 | |
| 测试用例7 | ☐ 通过 ☐ 失败 | |
| 测试用例8 | ☐ 通过 ☐ 失败 | |
| 测试用例9 | ☐ 通过 ☐ 失败 | |
| 测试用例10 | ☐ 通过 ☐ 失败 | |

发现的问题：
1. _____________________________________
2. _____________________________________
3. _____________________________________

总体评价：☐ 优秀 ☐ 良好 ☐ 需改进
```

---

## 已知限制

1. 作者筛选基于作者名称，如果同一个人使用了不同的名称，会被视为不同作者
2. 时间范围的计算基于当前日期，不是基于最后提交日期
3. 数据需要先刷新才能看到最新的作者列表

---

## 建议后续改进

1. 增加作者名称搜索功能
2. 支持多选作者进行对比
3. 添加作者别名合并功能
4. 增加导出特定作者统计的功能

