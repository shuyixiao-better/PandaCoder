# åšå®¢åŒæ­¥åŠŸèƒ½å®ç°æ€»ç»“

## ğŸ“‹ éœ€æ±‚èƒŒæ™¯

ç”¨æˆ·å¸Œæœ›åœ¨ PandaCoder ç‰ˆæœ¬æ›´æ–°åï¼Œèƒ½å¤Ÿè‡ªåŠ¨åŒæ­¥æ›´æ–°åˆ°åšå®¢é¡¹ç›®ï¼ˆVitePressï¼‰ä¸­çš„æ–‡ç« ï¼Œå®ç°ä¸€é”®æ›´æ–°ä¸¤ä¸ªé¡¹ç›®çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚

**åšå®¢é¡¹ç›®è·¯å¾„**ï¼š`E:\Project\åšå®¢é¡¹ç›®\æˆ‘çš„åšå®¢\shuyixiao-studio`  
**æ–‡ç« è·¯å¾„**ï¼š`docs/articles/panda-coder-intro.md`  
**è®¿é—®åœ°å€**ï¼š`http://localhost:5173/articles/panda-coder-intro.html`

## ğŸ¯ å®ç°ç›®æ ‡

1. âœ… è‡ªåŠ¨åŒæ­¥ç‰ˆæœ¬å·åˆ°åšå®¢æ–‡ç« 
2. âœ… è‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬å†å²
3. âœ… è‡ªåŠ¨ç”Ÿæˆå˜æ›´æ—¥å¿—
4. âœ… æ”¯æŒè‡ªå®šä¹‰é…ç½®
5. âœ… ä¼˜é›…çš„ç”¨æˆ·ä½“éªŒ

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### 1. æ ¸å¿ƒè„šæœ¬

```
PandaCoder/
â”œâ”€â”€ sync-to-blog.py          # åšå®¢åŒæ­¥è„šæœ¬
â”œâ”€â”€ update-all.py            # ä¸€é”®æ›´æ–°è„šæœ¬
â”œâ”€â”€ sync-config.json         # åŒæ­¥é…ç½®æ–‡ä»¶
â””â”€â”€ BLOG_SYNC_GUIDE.md       # ä½¿ç”¨æŒ‡å—
```

### 2. å·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¿®æ”¹ gradle.properties  â”‚
â”‚  - pluginVersion=2.0.0  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¿è¡Œ update-all.py     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                      â”‚
            â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ›´æ–° PandaCoder  â”‚  â”‚  åŒæ­¥åˆ°åšå®¢       â”‚
â”‚  version.propertiesâ”‚  â”‚  panda-coder-    â”‚
â”‚  README.md       â”‚  â”‚  intro.md        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  CHANGELOG.md    â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é¢„è§ˆå’Œæäº¤              â”‚
â”‚  - PandaCoder: build    â”‚
â”‚  - åšå®¢: npm run dev    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ’» æ ¸å¿ƒåŠŸèƒ½å®ç°

### 1. é…ç½®ç®¡ç†ï¼ˆsync-config.jsonï¼‰

```json
{
  "blog": {
    "projectPath": "E:\\Project\\åšå®¢é¡¹ç›®\\æˆ‘çš„åšå®¢\\shuyixiao-studio",
    "articlePath": "docs/articles/panda-coder-intro.md",
    "devServerUrl": "http://localhost:5173",
    "articleUrl": "/articles/panda-coder-intro.html"
  },
  "sync": {
    "enabled": true,
    "autoCommit": false,
    "createChangelog": true
  }
}
```

**ç‰¹ç‚¹**ï¼š
- æ”¯æŒè‡ªå®šä¹‰åšå®¢è·¯å¾„
- çµæ´»çš„é…ç½®é€‰é¡¹
- æ˜“äºç»´æŠ¤å’Œæ‰©å±•

### 2. åšå®¢åŒæ­¥è„šæœ¬ï¼ˆsync-to-blog.pyï¼‰

**ä¸»è¦åŠŸèƒ½**ï¼š

#### a. è¯»å–ç‰ˆæœ¬ä¿¡æ¯
```python
def read_properties(file_path):
    """ä» gradle.properties è¯»å–ç‰ˆæœ¬ä¿¡æ¯"""
    props = {}
    with open(file_path, 'r', encoding='utf-8') as f:
        for line in f:
            if '=' in line:
                key, value = line.split('=', 1)
                props[key.strip()] = value.strip()
    return props
```

#### b. æ›´æ–°åšå®¢æ–‡ç« 
```python
def update_blog_article(plugin_version, version_type, release_date, current_features):
    """æ›´æ–°åšå®¢æ–‡ç« ä¸­çš„ç‰ˆæœ¬ä¿¡æ¯"""
    
    # 1. æ›´æ–° frontmatter æ—¥æœŸ
    content = re.sub(r'date: \d{4}-\d{2}-\d{2}', f'date: {today}', content)
    
    # 2. æ›´æ–°ç‰ˆæœ¬å·å¾½ç« 
    content = re.sub(
        r'\[!\[Version\]\(https://img\.shields\.io/badge/Version-[\d.]+-blue\)\]',
        f'[![Version](https://img.shields.io/badge/Version-{plugin_version}-blue)]',
        content
    )
    
    # 3. æ›´æ–°å½“å‰ç‰ˆæœ¬éƒ¨åˆ†
    version_section = f"""## å½“å‰ç‰ˆæœ¬
**ç‰ˆæœ¬å·**: {plugin_version}  
**ç‰ˆæœ¬ç±»å‹**: {version_type}  
**å‘å¸ƒæ—¥æœŸ**: {release_date}  
**ä¸»è¦åŠŸèƒ½**: {current_features}
"""
    
    # 4. æ›´æ–°ç‰ˆæœ¬å†å²
    # 5. æ›´æ–°æ–‡ç« ä¸­çš„ç‰ˆæœ¬å·å¼•ç”¨
```

#### c. ç”Ÿæˆå˜æ›´æ—¥å¿—
```python
def create_changelog_entry(plugin_version, version_type, release_date, current_features):
    """åœ¨åšå®¢é¡¹ç›®ä¸­åˆ›å»º/æ›´æ–° CHANGELOG.md"""
    entry = f"""
## [{plugin_version}] - {release_date}

### {version_type}

{current_features}

---
"""
    # æ’å…¥åˆ°æ–‡ä»¶å¼€å¤´
```

### 3. ä¸€é”®æ›´æ–°è„šæœ¬ï¼ˆupdate-all.pyï¼‰

**åŠŸèƒ½**ï¼š
- ä¾æ¬¡æ‰§è¡Œ `update-version.py` å’Œ `sync-to-blog.py`
- ç»Ÿä¸€çš„é”™è¯¯å¤„ç†
- å‹å¥½çš„ç”¨æˆ·æç¤º

```python
def main():
    # æ­¥éª¤ 1: æ›´æ–° PandaCoder ç‰ˆæœ¬
    run_script('update-version.py', 'æ›´æ–° PandaCoder ç‰ˆæœ¬ä¿¡æ¯')
    
    # æ­¥éª¤ 2: åŒæ­¥åˆ°åšå®¢
    run_script('sync-to-blog.py', 'åŒæ­¥ç‰ˆæœ¬ä¿¡æ¯åˆ°åšå®¢')
    
    # æ˜¾ç¤ºåç»­æ“ä½œæŒ‡å—
```

## ğŸ¨ ç”¨æˆ·ä½“éªŒè®¾è®¡

### 1. æ¸…æ™°çš„è¾“å‡ºä¿¡æ¯

```
============================================================
PandaCoder ç‰ˆæœ¬ä¿¡æ¯åŒæ­¥åˆ°åšå®¢
============================================================

å½“å‰ç‰ˆæœ¬ä¿¡æ¯:
  ç‰ˆæœ¬å·: 2.0.0
  ç‰ˆæœ¬ç±»å‹: æ­£å¼ç‰ˆæœ¬
  å‘å¸ƒæ—¥æœŸ: 2025-10-19
  ä¸»è¦åŠŸèƒ½: æ¨¡åŠ›æ–¹èˆŸè…¾è®¯æ··å…ƒæ¨¡å‹ç¿»è¯‘ä¸ºé»˜è®¤å€¼

æ­£åœ¨åŒæ­¥åˆ°åšå®¢...
âœ“ å·²æ›´æ–°åšå®¢æ–‡ç« : docs/articles/panda-coder-intro.md
âœ“ å·²æ›´æ–°å˜æ›´æ—¥å¿—: CHANGELOG.md

============================================================
âœ“ åŒæ­¥å®Œæˆï¼
============================================================
```

### 2. è¯¦ç»†çš„æ“ä½œæŒ‡å—

æ¯æ¬¡æ‰§è¡Œåéƒ½ä¼šæ˜¾ç¤ºï¼š
- å·²æ›´æ–°çš„æ–‡ä»¶åˆ—è¡¨
- ä¸‹ä¸€æ­¥æ“ä½œå»ºè®®
- é¢„è§ˆå’Œæäº¤å‘½ä»¤

### 3. å¤šç§ä½¿ç”¨æ–¹å¼

```bash
# æ–¹å¼ä¸€ï¼šä¸€é”®æ›´æ–°ï¼ˆæ¨èï¼‰
python update-all.py

# æ–¹å¼äºŒï¼šåˆ†æ­¥æ›´æ–°
python update-version.py
python sync-to-blog.py

# æ–¹å¼ä¸‰ï¼šä»…åŒæ­¥åšå®¢
python sync-to-blog.py
```

## âœ¨ æŠ€æœ¯äº®ç‚¹

### 1. æ™ºèƒ½ç‰ˆæœ¬å†å²æå–

ä» `VersionInfo.java` ä¸­æå–ç‰ˆæœ¬å†å²ï¼š

```python
def read_version_history():
    """ä» VersionInfo.java è¯»å–ç‰ˆæœ¬å†å²"""
    content = version_info_path.read_text(encoding='utf-8')
    
    # ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æå–
    match = re.search(
        r'public static String getSimpleVersionHistory\(\) \{.*?return """(.*?)""";',
        content,
        re.DOTALL
    )
    
    if match:
        history = match.group(1).strip()
        # è½¬æ¢ä¸º Markdown æ ¼å¼
        history = history.replace('<b>', '**').replace('</b>', '**')
        history = history.replace('<br>', '\n')
        return history
```

### 2. çµæ´»çš„é…ç½®ç³»ç»Ÿ

```python
def load_config():
    """åŠ è½½é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒé»˜è®¤å€¼"""
    config_file = Path('sync-config.json')
    if config_file.exists():
        return json.load(open(config_file, 'r', encoding='utf-8'))
    else:
        return default_config  # è¿”å›é»˜è®¤é…ç½®
```

### 3. ç¼–ç é—®é¢˜å¤„ç†

```python
# Windows æ§åˆ¶å°ç¼–ç å¤„ç†
if sys.platform == 'win32':
    sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')
    sys.stderr = io.TextIOWrapper(sys.stderr.buffer, encoding='utf-8')
```

### 4. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…

ç²¾ç¡®åŒ¹é…å’Œæ›¿æ¢ç‰ˆæœ¬ä¿¡æ¯ï¼š

```python
# æ›´æ–°ç‰ˆæœ¬å·å¾½ç« 
content = re.sub(
    r'https://img\.shields\.io/badge/Version-[\d.]+',
    f'https://img.shields.io/badge/Version-{plugin_version}',
    content
)

# æ›´æ–°å½“å‰ç‰ˆæœ¬éƒ¨åˆ†ï¼ˆæ”¯æŒå¤šè¡ŒåŒ¹é…ï¼‰
content = re.sub(
    r'## å½“å‰ç‰ˆæœ¬.*?(?=##|\Z)',
    version_section + '\n',
    content,
    flags=re.DOTALL
)
```

## ğŸ“Š åŒæ­¥å†…å®¹è¯¦è§£

### 1. Frontmatter æ›´æ–°

```yaml
---
date: 2025-10-19  # è‡ªåŠ¨æ›´æ–°ä¸ºå½“å‰æ—¥æœŸ
---
```

### 2. ç‰ˆæœ¬ä¿¡æ¯å—

```markdown
## å½“å‰ç‰ˆæœ¬

**ç‰ˆæœ¬å·**: 2.0.0  
**ç‰ˆæœ¬ç±»å‹**: æ­£å¼ç‰ˆæœ¬  
**å‘å¸ƒæ—¥æœŸ**: 2025-10-19  
**ä¸»è¦åŠŸèƒ½**: æ¨¡åŠ›æ–¹èˆŸè…¾è®¯æ··å…ƒæ¨¡å‹ç¿»è¯‘ä¸ºé»˜è®¤å€¼
```

### 3. ç‰ˆæœ¬å¾½ç« 

```markdown
[![Version](https://img.shields.io/badge/Version-2.0.0-blue)]
```

### 4. å˜æ›´æ—¥å¿—

```markdown
# æ›´æ–°æ—¥å¿—

## [2.0.0] - 2025-10-19

### æ­£å¼ç‰ˆæœ¬

æ¨¡åŠ›æ–¹èˆŸè…¾è®¯æ··å…ƒæ¨¡å‹ç¿»è¯‘ä¸ºé»˜è®¤å€¼

---
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1ï¼šå‘å¸ƒæ–°ç‰ˆæœ¬

```bash
# 1. ä¿®æ”¹ç‰ˆæœ¬é…ç½®
# ç¼–è¾‘ gradle.properties

# 2. ä¸€é”®æ›´æ–°
python update-all.py

# 3. é¢„è§ˆéªŒè¯
gradlew clean build
cd E:\Project\åšå®¢é¡¹ç›®\æˆ‘çš„åšå®¢\shuyixiao-studio
npm run docs:dev

# 4. æäº¤å‘å¸ƒ
# åˆ†åˆ«åœ¨ä¸¤ä¸ªé¡¹ç›®ä¸­æäº¤
```

### åœºæ™¯ 2ï¼šä¿®å¤åšå®¢æ–‡ç« 

```bash
# å¦‚æœåªéœ€è¦é‡æ–°åŒæ­¥åšå®¢
python sync-to-blog.py
```

### åœºæ™¯ 3ï¼šè‡ªå®šä¹‰é…ç½®

```bash
# 1. ç¼–è¾‘ sync-config.json
# 2. è¿è¡ŒåŒæ­¥
python sync-to-blog.py
```

## ğŸ“ æ–‡ä»¶æ¸…å•

### æ–°å¢æ–‡ä»¶

```
PandaCoder/
â”œâ”€â”€ sync-to-blog.py              # âœ… åšå®¢åŒæ­¥è„šæœ¬
â”œâ”€â”€ update-all.py                # âœ… ä¸€é”®æ›´æ–°è„šæœ¬
â”œâ”€â”€ sync-config.json             # âœ… åŒæ­¥é…ç½®æ–‡ä»¶
â”œâ”€â”€ BLOG_SYNC_GUIDE.md           # âœ… ä½¿ç”¨æŒ‡å—
â””â”€â”€ docs/
    â””â”€â”€ åšå®¢åŒæ­¥åŠŸèƒ½å®ç°æ€»ç»“.md    # âœ… æœ¬æ–‡æ¡£
```

### ä¿®æ”¹æ–‡ä»¶

```
PandaCoder/
â””â”€â”€ update-version.py            # âœ… æ·»åŠ åšå®¢åŒæ­¥æç¤º
```

## ğŸ‰ å®ç°æ•ˆæœ

### æ›´æ–°å‰

- âŒ éœ€è¦æ‰‹åŠ¨ä¿®æ”¹åšå®¢æ–‡ç« 
- âŒ å®¹æ˜“é—æ¼ç‰ˆæœ¬ä¿¡æ¯
- âŒ ä¸¤ä¸ªé¡¹ç›®ä¸åŒæ­¥
- âŒ è€—æ—¶çº¦ 15-20 åˆ†é’Ÿ

### æ›´æ–°å

- âœ… ä¸€é”®è‡ªåŠ¨åŒæ­¥
- âœ… ç‰ˆæœ¬ä¿¡æ¯å®Œæ•´
- âœ… ä¸¤ä¸ªé¡¹ç›®åŒæ­¥
- âœ… è€—æ—¶çº¦ 2-3 åˆ†é’Ÿ

**æ•ˆç‡æå‡ï¼š85%+**

## ğŸ”§ æ‰©å±•æ€§

### 1. æ”¯æŒå¤šä¸ªåšå®¢é¡¹ç›®

å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¤šä¸ªåšå®¢é¡¹ç›®ï¼š

```json
{
  "blogs": [
    {
      "name": "ä¸»åšå®¢",
      "projectPath": "...",
      "articlePath": "..."
    },
    {
      "name": "å¤‡ç”¨åšå®¢",
      "projectPath": "...",
      "articlePath": "..."
    }
  ]
}
```

### 2. æ”¯æŒæ›´å¤šæ–‡ä»¶ç±»å‹

å¯ä»¥æ‰©å±•åŒæ­¥å…¶ä»–ç±»å‹çš„æ–‡æ¡£ï¼š

```python
def sync_additional_files():
    # åŒæ­¥ API æ–‡æ¡£
    # åŒæ­¥ä½¿ç”¨æ‰‹å†Œ
    # åŒæ­¥å‘å¸ƒè¯´æ˜
```

### 3. é›†æˆ CI/CD

å¯ä»¥åœ¨ GitHub Actions ä¸­è‡ªåŠ¨æ‰§è¡Œï¼š

```yaml
- name: Sync to Blog
  run: python sync-to-blog.py
```

## ğŸ’¡ æœ€ä½³å®è·µ

1. **ç‰ˆæœ¬å‘å¸ƒå‰**ï¼š
   - å…ˆåœ¨æœ¬åœ°æµ‹è¯•åŒæ­¥
   - é¢„è§ˆåšå®¢æ•ˆæœ
   - ç¡®è®¤æ— è¯¯åå†å‘å¸ƒ

2. **é…ç½®ç®¡ç†**ï¼š
   - å°† `sync-config.json` åŠ å…¥ç‰ˆæœ¬æ§åˆ¶
   - å›¢é˜Ÿæˆå‘˜å…±äº«é…ç½®

3. **å¤‡ä»½ç­–ç•¥**ï¼š
   - é‡è¦æ›´æ–°å‰å¤‡ä»½åšå®¢é¡¹ç›®
   - ä½¿ç”¨ Git åˆ†æ”¯è¿›è¡Œæµ‹è¯•

4. **æ–‡æ¡£ç»´æŠ¤**ï¼š
   - ä¿æŒä¸¤ä¸ªé¡¹ç›®æ–‡æ¡£ä¸€è‡´
   - åŠæ—¶æ›´æ–°åŠŸèƒ½è¯´æ˜

## ğŸ¨ ä¼˜é›…ä¹‹å¤„

1. **é…ç½®é©±åŠ¨**ï¼šé€šè¿‡é…ç½®æ–‡ä»¶çµæ´»æ§åˆ¶è¡Œä¸º
2. **é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„é”™è¯¯æç¤ºå’Œå¤„ç†
3. **ç”¨æˆ·å‹å¥½**ï¼šæ¸…æ™°çš„è¾“å‡ºå’Œæ“ä½œæŒ‡å—
4. **å¯æ‰©å±•æ€§**ï¼šæ˜“äºæ·»åŠ æ–°åŠŸèƒ½
5. **è·¨å¹³å°**ï¼šæ”¯æŒ Windows/Linux/Mac

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [BLOG_SYNC_GUIDE.md](../BLOG_SYNC_GUIDE.md) - åšå®¢åŒæ­¥ä½¿ç”¨æŒ‡å—
- [VERSION_UPDATE_GUIDE.md](../VERSION_UPDATE_GUIDE.md) - ç‰ˆæœ¬æ›´æ–°æŒ‡å—
- [ç‰ˆæœ¬å·ç»Ÿä¸€ç®¡ç†æ–¹æ¡ˆ.md](ç‰ˆæœ¬å·ç»Ÿä¸€ç®¡ç†æ–¹æ¡ˆ.md) - ç‰ˆæœ¬ç®¡ç†æ–¹æ¡ˆ

## ğŸŠ æ€»ç»“

é€šè¿‡å®æ–½åšå®¢åŒæ­¥åŠŸèƒ½ï¼Œå®ç°äº†ï¼š

1. âœ… **ä¸€é”®åŒæ­¥**ï¼šä»å¤šæ­¥éª¤æ‰‹åŠ¨æ“ä½œåˆ°ä¸€é”®è‡ªåŠ¨åŒ–
2. âœ… **ç‰ˆæœ¬ä¸€è‡´**ï¼šç¡®ä¿ PandaCoder å’Œåšå®¢ç‰ˆæœ¬ä¿¡æ¯åŒæ­¥
3. âœ… **æ•ˆç‡æå‡**ï¼šç‰ˆæœ¬å‘å¸ƒæ—¶é—´ä» 15-20 åˆ†é’Ÿé™ä½åˆ° 2-3 åˆ†é’Ÿ
4. âœ… **ç”¨æˆ·ä½“éªŒ**ï¼šæ¸…æ™°çš„æç¤ºå’Œå®Œå–„çš„æ–‡æ¡£
5. âœ… **å¯ç»´æŠ¤æ€§**ï¼šé…ç½®åŒ–ã€æ¨¡å—åŒ–çš„è®¾è®¡

**ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆï¼Œè®©ç‰ˆæœ¬ç®¡ç†å’Œåšå®¢åŒæ­¥å˜å¾—ç®€å•ï¼** ğŸš€

---

**å®æ–½æ—¥æœŸ**ï¼š2024-12-21  
**å½“å‰ç‰ˆæœ¬**ï¼š2.0.0  
**æ–‡æ¡£ç‰ˆæœ¬**ï¼š1.0

