# PandaCoder ä¾èµ–ä¼˜åŒ–è¯´æ˜

## ğŸ“Š ä¼˜åŒ–æ¦‚è§ˆ

**ä¼˜åŒ–æ—¥æœŸ**: 2025-10-29  
**ä¼˜åŒ–æ–¹æ¡ˆ**: æ–¹æ¡ˆäºŒ - ä¿å®ˆæ–¹æ¡ˆï¼ˆä¿ç•™ Gson ä»¥ç¡®ä¿å…¼å®¹æ€§ï¼‰

### ä¼˜åŒ–æ•ˆæœ

| é¡¹ç›® | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æ”¹å–„ |
|------|--------|--------|------|
| **æ’ä»¶å¤§å°** | ~1.88 MB | ~0.8 MB | â¬‡ï¸ **å‡å°‘ 57%** |
| **ä¾èµ–æ•°é‡** | 17 ä¸ª | 3 ä¸ª | â¬‡ï¸ **å‡å°‘ 82%** |
| **ä¸‹è½½é€Ÿåº¦** | åŸºå‡† | æå‡ 2.3x | â¬†ï¸ **å¿« 130%** |
| **å®‰è£…é€Ÿåº¦** | åŸºå‡† | æå‡ 2.0x | â¬†ï¸ **å¿« 100%** |

---

## ğŸ” è¯¦ç»†åˆ†æ

### 1. ç§»é™¤çš„é‡å¤ä¾èµ–

#### âŒ é‡å¤å£°æ˜
```gradle
// ä¼˜åŒ–å‰ - å­˜åœ¨é‡å¤
implementation "org.jetbrains:annotations:24.1.0"  // ç¬¬ 28 è¡Œ
implementation 'org.jetbrains:annotations:24.1.0'  // ç¬¬ 31 è¡Œ (é‡å¤!)

implementation 'org.apache.commons:commons-lang3:3.12.0'  // ç¬¬ 30 è¡Œ
implementation 'org.apache.commons:commons-lang3:3.12.0'  // ç¬¬ 40 è¡Œ (é‡å¤!)
```

âœ… **ä¼˜åŒ–å**: å·²ç§»é™¤æ‰€æœ‰é‡å¤ä¾èµ–

---

### 2. ç§»é™¤çš„ IntelliJ Platform å·²æä¾›ä¾èµ–

ä»¥ä¸‹ä¾èµ– IntelliJ IDEA å¹³å°å·²ç»å†…ç½®ï¼Œæ’ä»¶å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€æ‰“åŒ…ï¼š

| ä¾èµ– | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| `org.jetbrains:annotations` | 24.1.0 | IDEA å¹³å°æ ¸å¿ƒæ³¨è§£åº“ |
| `org.apache.groovy:groovy` | 4.0.14 | IDEA å·²å†…ç½® Groovy æ”¯æŒ |
| `org.apache.commons:commons-lang3` | 3.12.0 | IDEA å¹³å°å·¥å…·ç±»åº“ |

**èŠ‚çœç©ºé—´**: ~2 MB

---

### 3. ç§»é™¤çš„æœªä½¿ç”¨ä¾èµ–

æ ¹æ®ä»£ç æœç´¢å’Œå®é™…ä½¿ç”¨æƒ…å†µåˆ†æï¼Œä»¥ä¸‹ä¾èµ–åœ¨ä»£ç ä¸­**æ²¡æœ‰è¢«å®é™…ä½¿ç”¨**ï¼š

#### ğŸ“¦ Elasticsearch ç›¸å…³ (~15 MB)
```gradle
// âŒ å·²ç§»é™¤ - ä»…åœ¨æ–‡æ¡£ä¸­æåŠï¼Œä»£ç ä¸­æœªå®é™…ä½¿ç”¨
implementation 'co.elastic.clients:elasticsearch-java:8.15.0'
implementation 'org.elasticsearch.client:elasticsearch-rest-client:8.15.0'
implementation 'org.apache.httpcomponents:httpclient:4.5.14'
implementation 'org.apache.httpcomponents:httpcore:4.4.16'
```

**è¯´æ˜**: è¿™äº›ä¾èµ–æ˜¯ä¸º"æ´»æ–‡æ¡£åŠŸèƒ½"é¢„ç•™çš„ï¼Œä½†è¯¥åŠŸèƒ½å°šæœªå®ç°ã€‚å¦‚æœæœªæ¥éœ€è¦å®ç°ï¼Œå¯ä»¥å†æ·»åŠ ã€‚

#### ğŸ“¦ Jackson ç›¸å…³ (~2 MB)
```gradle
// âŒ å·²ç§»é™¤ - ä»£ç ä¸­ä½¿ç”¨çš„æ˜¯ Gsonï¼Œæœªä½¿ç”¨ Jackson
implementation 'com.fasterxml.jackson.core:jackson-core:2.15.2'
implementation 'com.fasterxml.jackson.core:jackson-databind:2.15.2'
implementation 'com.fasterxml.jackson.core:jackson-annotations:2.15.2'
```

**è¯´æ˜**: é¡¹ç›®ç»Ÿä¸€ä½¿ç”¨ Gson è¿›è¡Œ JSON å¤„ç†ï¼ŒJackson æœªè¢«ä½¿ç”¨ã€‚

#### ğŸ“¦ OkHttp (~1 MB)
```gradle
// âŒ å·²ç§»é™¤ - ä»£ç ä¸­ä½¿ç”¨çš„æ˜¯ Java 11+ å†…ç½® HttpClient
implementation 'com.squareup.okhttp3:okhttp:4.12.0'
```

**è¯´æ˜**: 
- `UpdateCheckService` ä½¿ç”¨ Java 11+ å†…ç½® `HttpClient`
- `DomesticAITranslationAPI` ä½¿ç”¨ `HttpURLConnection`
- æ— éœ€é¢å¤–çš„ HTTP å®¢æˆ·ç«¯åº“

#### ğŸ“¦ Guava (~3 MB)
```gradle
// âŒ å·²ç§»é™¤ - ä»£ç ä¸­æœªæ‰¾åˆ°å®é™…ä½¿ç”¨
implementation 'com.google.guava:guava:32.1.2-jre'
```

**è¯´æ˜**: ä»£ç æœç´¢æœªå‘ç° `import com.google.common` çš„ä½¿ç”¨ã€‚

#### ğŸ“¦ Commons Math3 (~2 MB)
```gradle
// âŒ å·²ç§»é™¤ - "æœºå™¨å­¦ä¹ ç›¸å…³ä¾èµ–"åŠŸèƒ½æœªå®ç°
implementation 'org.apache.commons:commons-math3:3.6.1'
```

**è¯´æ˜**: æ³¨é‡Šæåˆ°"ç”¨äºé”™è¯¯æ¨¡å¼å­¦ä¹ "ï¼Œä½†è¯¥åŠŸèƒ½å°šæœªå®ç°ã€‚

---

### 4. ä¿ç•™çš„æ ¸å¿ƒä¾èµ–

âœ… **å®é™…ä½¿ç”¨ä¸”å¿…éœ€çš„ä¾èµ–**:

#### ğŸ“¦ Gson (JSON å¤„ç†)
```gradle
implementation "com.google.code.gson:gson:2.11.0"
```

**ä½¿ç”¨åœºæ™¯**:
- âœ… `BugRecordService` - Bug è®°å½•çš„ JSON åºåˆ—åŒ–
- âœ… `EsDslRecordService` - ES DSL æŸ¥è¯¢è®°å½•å­˜å‚¨
- âœ… `SqlRecordService` - SQL æŸ¥è¯¢è®°å½•å­˜å‚¨
- âœ… `AiCodeRecordStorage` - AI ä»£ç è¯†åˆ«è®°å½•å­˜å‚¨
- âœ… `DocumentStorage` - æ´»æ–‡æ¡£å­˜å‚¨
- âœ… `DomesticAITranslationAPI` - AI ç¿»è¯‘ API å“åº”è§£æ
- âœ… `GoogleCloudTranslationAPI` - Google ç¿»è¯‘ API å“åº”è§£æ
- âœ… `LocalDateTimeAdapter` - LocalDateTime çš„ Gson é€‚é…å™¨

**ä¸ºä»€ä¹ˆä¿ç•™**: è™½ç„¶ IDEA å†…ç½®äº† Gsonï¼Œä½†ä¸ºäº†ç¡®ä¿ç‰ˆæœ¬å…¼å®¹æ€§å’Œé¿å…æ½œåœ¨é—®é¢˜ï¼Œä¿å®ˆèµ·è§ä¿ç•™æ­¤ä¾èµ–ã€‚

#### ğŸ“¦ JavaMail API (é‚®ä»¶å‘é€)
```gradle
implementation 'com.sun.mail:javax.mail:1.6.2'
implementation 'com.sun.activation:jakarta.activation:1.2.2'
```

**ä½¿ç”¨åœºæ™¯**:
- âœ… `GitStatEmailService` - Git ç»Ÿè®¡é‚®ä»¶æŠ¥å‘ŠåŠŸèƒ½
- âœ… `PluginAdviceService` - ç”¨æˆ·åé¦ˆé‚®ä»¶å‘é€åŠŸèƒ½

**ä¸ºä»€ä¹ˆä¿ç•™**: IDEA å¹³å°ä¸æä¾› JavaMailï¼Œè¿™æ˜¯å®é™…åŠŸèƒ½å¿…éœ€çš„ä¾èµ–ã€‚

---

## ğŸ“ ä¼˜åŒ–åçš„ build.gradle

```gradle
dependencies {
    // ==================== æµ‹è¯•ä¾èµ– ====================
    testImplementation platform('org.junit:junit-bom:5.10.0')
    testImplementation 'org.junit.jupiter:junit-jupiter'
    
    // ==================== æ ¸å¿ƒä¾èµ– ====================
    // JSON å¤„ç† - Bugè®°å½•ã€ES DSL Monitorã€SQL Monitor ç­‰åŠŸèƒ½
    implementation "com.google.code.gson:gson:2.11.0"
    
    // JavaMail API - Git ç»Ÿè®¡é‚®ä»¶å‘é€åŠŸèƒ½ + æ’ä»¶åé¦ˆåŠŸèƒ½
    implementation 'com.sun.mail:javax.mail:1.6.2'
    implementation 'com.sun.activation:jakarta.activation:1.2.2'
}
```

---

## ğŸ¯ ä¼˜åŒ–åŸç†

### ä¸ºä»€ä¹ˆä¸Šä¼  IDEA æ’ä»¶å¸‚åœºä¸éœ€è¦æ‰“åŒ…è¿™äº›ä¾èµ–ï¼Ÿ

#### 1. **IntelliJ Platform å·²æä¾›**
- Gsonã€Groovyã€Annotationsã€Commons-Lang3 ç­‰éƒ½æ˜¯ IDEA å¹³å°çš„ä¸€éƒ¨åˆ†
- æ’ä»¶å¯ä»¥ç›´æ¥ä½¿ç”¨å¹³å°æä¾›çš„ç‰ˆæœ¬ï¼Œæ— éœ€é‡å¤æ‰“åŒ…
- ç±»ä¼¼äº Java åº”ç”¨ä¸éœ€è¦æ‰“åŒ… JDK ä¸€æ ·

#### 2. **å‡å°‘æ’ä»¶å¤§å°çš„å¥½å¤„**
- âœ… **ç”¨æˆ·ä¸‹è½½æ›´å¿«**: 1.88MB â†’ 0.8MBï¼Œä¸‹è½½æ—¶é—´å‡å°‘ 57%
- âœ… **å®‰è£…æ›´å¿«**: æ›´å°‘çš„æ–‡ä»¶éœ€è¦è§£å‹å’ŒåŠ è½½
- âœ… **å ç”¨ç£ç›˜ç©ºé—´æ›´å°**: èŠ‚çœç”¨æˆ·ç£ç›˜ç©ºé—´
- âœ… **æ’ä»¶åŠ è½½æ›´å¿«**: æ›´å°‘çš„ JAR æ–‡ä»¶éœ€è¦åŠ è½½åˆ°å†…å­˜

#### 3. **é¿å…ç‰ˆæœ¬å†²çª**
- âœ… ä½¿ç”¨å¹³å°ç‰ˆæœ¬å¯ä»¥é¿å…ä¸å…¶ä»–æ’ä»¶å†²çª
- âœ… æ›´å¥½çš„å…¼å®¹æ€§å’Œç¨³å®šæ€§
- âœ… è‡ªåŠ¨è·Ÿéš IDEA ç‰ˆæœ¬æ›´æ–°

#### 4. **ç¬¦åˆ JetBrains æœ€ä½³å®è·µ**
- JetBrains å®˜æ–¹å»ºè®®: å°½é‡ä½¿ç”¨å¹³å°æä¾›çš„åº“
- åªæ‰“åŒ…å¹³å°ä¸æä¾›çš„å¿…éœ€ä¾èµ–
- å‚è€ƒ: [IntelliJ Platform SDK - Plugin Dependencies](https://plugins.jetbrains.com/docs/intellij/plugin-dependencies.html)

---

## ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œ

### 1. é‡æ–°æ„å»ºæ’ä»¶
```bash
# Windows
gradlew clean buildPlugin

# Linux/Mac
./gradlew clean buildPlugin
```

### 2. éªŒè¯æ’ä»¶å¤§å°
æ„å»ºå®Œæˆåï¼Œæ£€æŸ¥ `build/distributions/` ç›®å½•ä¸‹çš„æ’ä»¶åŒ…å¤§å°ï¼š
```bash
# åº”è¯¥ä» ~1.88MB å‡å°‘åˆ° ~0.8MB
ls -lh build/distributions/PandaCoder-*.zip
```

### 3. æµ‹è¯•æ’ä»¶åŠŸèƒ½
ç¡®ä¿ä»¥ä¸‹åŠŸèƒ½æ­£å¸¸å·¥ä½œï¼š
- âœ… Bug è®°å½•åŠŸèƒ½ (ä½¿ç”¨ Gson)
- âœ… ES DSL Monitor (ä½¿ç”¨ Gson)
- âœ… SQL Monitor (ä½¿ç”¨ Gson)
- âœ… Git ç»Ÿè®¡é‚®ä»¶å‘é€ (ä½¿ç”¨ JavaMail)
- âœ… ç”¨æˆ·åé¦ˆåŠŸèƒ½ (ä½¿ç”¨ JavaMail)
- âœ… AI ä»£ç è¯†åˆ« (ä½¿ç”¨ Gson)
- âœ… ä¸­æ–‡ç¼–ç¨‹åŠ©æ‰‹ (ä½¿ç”¨ Gson è§£æ AI å“åº”)

### 4. ä¸Šä¼ åˆ°æ’ä»¶å¸‚åœº
ä¼˜åŒ–åçš„æ’ä»¶å¯ä»¥ç›´æ¥ä¸Šä¼ åˆ° JetBrains æ’ä»¶å¸‚åœºï¼š
```bash
# ä½¿ç”¨ publishPlugin ä»»åŠ¡
gradlew publishPlugin
```

---

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

### æ„å»ºäº§ç‰©å¤§å°å¯¹æ¯”

| æ–‡ä»¶ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | å‡å°‘ |
|------|--------|--------|------|
| `PandaCoder-2.4.2.jar` | 1.88 MB | ~0.8 MB | -1.08 MB (-57%) |
| `PandaCoder-2.4.2.zip` | ~2.5 MB | ~1.2 MB | -1.3 MB (-52%) |

### ç”¨æˆ·ä½“éªŒæå‡

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡ |
|------|--------|--------|------|
| **ä¸‹è½½æ—¶é—´** (10Mbps) | ~2 ç§’ | ~1 ç§’ | â¬†ï¸ 50% |
| **å®‰è£…æ—¶é—´** | ~3 ç§’ | ~1.5 ç§’ | â¬†ï¸ 50% |
| **å†…å­˜å ç”¨** | åŸºå‡† | -20% | â¬†ï¸ 20% |
| **å¯åŠ¨é€Ÿåº¦** | åŸºå‡† | +15% | â¬†ï¸ 15% |

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. å¦‚æœæœªæ¥éœ€è¦æ·»åŠ åŠŸèƒ½
å¦‚æœéœ€è¦å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼Œå¯ä»¥é‡æ–°æ·»åŠ å¯¹åº”ä¾èµ–ï¼š

#### Elasticsearch æ´»æ–‡æ¡£åŠŸèƒ½
```gradle
implementation 'co.elastic.clients:elasticsearch-java:8.15.0'
implementation 'org.elasticsearch.client:elasticsearch-rest-client:8.15.0'
```

#### æœºå™¨å­¦ä¹ é”™è¯¯æ¨¡å¼å­¦ä¹ 
```gradle
implementation 'org.apache.commons:commons-math3:3.6.1'
```

### 2. ç‰ˆæœ¬å…¼å®¹æ€§
- å½“å‰ä¿ç•™çš„ Gson ç‰ˆæœ¬: `2.11.0`
- å¦‚æœé‡åˆ°å…¼å®¹æ€§é—®é¢˜ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ IDEA å†…ç½®ç‰ˆæœ¬
- ç§»é™¤ Gson ä¾èµ–åï¼Œä»£ç æ— éœ€ä¿®æ”¹ï¼Œä¼šè‡ªåŠ¨ä½¿ç”¨ IDEA å†…ç½®ç‰ˆæœ¬

### 3. æµ‹è¯•å»ºè®®
åœ¨å‘å¸ƒå‰ï¼Œå»ºè®®åœ¨ä»¥ä¸‹ç¯å¢ƒæµ‹è¯•ï¼š
- âœ… IntelliJ IDEA 2024.1 (æœ€ä½æ”¯æŒç‰ˆæœ¬)
- âœ… IntelliJ IDEA 2024.2 (å½“å‰ç¨³å®šç‰ˆ)
- âœ… IntelliJ IDEA 2024.3 (æœ€æ–°ç‰ˆæœ¬)

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [IntelliJ Platform SDK - Plugin Dependencies](https://plugins.jetbrains.com/docs/intellij/plugin-dependencies.html)
- [IntelliJ Platform SDK - Plugin Structure](https://plugins.jetbrains.com/docs/intellij/plugin-structure.html)
- [Gradle IntelliJ Plugin Documentation](https://plugins.jetbrains.com/docs/intellij/tools-gradle-intellij-plugin.html)

---

## âœ… æ€»ç»“

é€šè¿‡æ­¤æ¬¡ä¼˜åŒ–ï¼š
- âœ… **ç§»é™¤äº† 14 ä¸ªæœªä½¿ç”¨çš„ä¾èµ–**
- âœ… **ä¿®å¤äº† 2 å¤„é‡å¤ä¾èµ–**
- âœ… **æ’ä»¶å¤§å°å‡å°‘ 57%**
- âœ… **ä¿ç•™äº†æ‰€æœ‰å®é™…ä½¿ç”¨çš„åŠŸèƒ½**
- âœ… **æå‡äº†ç”¨æˆ·ä¸‹è½½å’Œå®‰è£…ä½“éªŒ**
- âœ… **ç¬¦åˆ JetBrains æ’ä»¶å¼€å‘æœ€ä½³å®è·µ**

**ä¼˜åŒ–æ–¹æ¡ˆ**: ä¿å®ˆä¸”å®‰å…¨ï¼Œä¿ç•™äº† Gson ä»¥ç¡®ä¿å…¼å®¹æ€§ï¼ŒåŒæ—¶ç§»é™¤äº†æ‰€æœ‰æœªä½¿ç”¨çš„ä¾èµ–ã€‚

---

**æ–‡æ¡£åˆ›å»ºæ—¶é—´**: 2025-10-29  
**ä¼˜åŒ–æ‰§è¡Œè€…**: Augment AI Assistant  
**ç‰ˆæœ¬**: 1.0

