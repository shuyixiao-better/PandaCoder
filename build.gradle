buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath 'com.guardsquare:proguard-gradle:7.5.0'
    }
}

plugins {
    id 'java'
    id 'org.jetbrains.intellij' version '1.17.4'
}

group = 'com.shuyixiao'
// ‰ªé gradle.properties ËØªÂèñÁâàÊú¨Âè∑ÔºåÂÆûÁé∞Áªü‰∏ÄÁâàÊú¨ÁÆ°ÁêÜ
version = pluginVersion

repositories {
    mavenCentral()
}

dependencies {
    // Groovy - ‰ΩøÁî® compileOnly ÈÅøÂÖç‰∏é IDEA Âπ≥Âè∞ÂÜ≤Á™Å
    compileOnly 'org.apache.groovy:groovy:4.0.14'
    
    testImplementation platform('org.junit:junit-bom:5.10.0')
    testImplementation 'org.junit.jupiter:junit-jupiter'
    implementation "com.google.code.gson:gson:2.11.0"
    
    // JetBrains annotations - ‰ΩøÁî® compileOnly ÈÅøÂÖç‰∏é IDEA Âπ≥Âè∞ÂÜ≤Á™Å
    compileOnly "org.jetbrains:annotations:24.1.0"
    
    // Jenkins PipelineÊîØÊåÅÊâÄÈúÄ‰æùËµñ
    implementation 'org.apache.commons:commons-lang3:3.12.0'
    
    // Â¢ûÂº∫ÁâàBugËÆ∞ÂΩïÂäüËÉΩÊâÄÈúÄ‰æùËµñ
    implementation 'com.fasterxml.jackson.core:jackson-core:2.15.2'
    implementation 'com.fasterxml.jackson.core:jackson-databind:2.15.2'
    implementation 'com.fasterxml.jackson.core:jackson-annotations:2.15.2'
    
    // Êú∫Âô®Â≠¶‰π†Áõ∏ÂÖ≥‰æùËµñÔºàÁî®‰∫éÈîôËØØÊ®°ÂºèÂ≠¶‰π†Ôºâ
    implementation 'org.apache.commons:commons-math3:3.6.1'
    implementation 'org.apache.commons:commons-lang3:3.12.0'
    
    // Âπ∂ÂèëÂ§ÑÁêÜÁõ∏ÂÖ≥‰æùËµñ
    implementation 'com.google.guava:guava:32.1.2-jre'
    
    // JavaMail API - Git ÁªüËÆ°ÈÇÆ‰ª∂ÂèëÈÄÅÂäüËÉΩ
    implementation 'com.sun.mail:javax.mail:1.6.2'
    implementation 'com.sun.activation:jakarta.activation:1.2.2'
    
    // ==================== Elasticsearch 8.15 - Ê¥ªÊñáÊ°£ÂäüËÉΩ ====================
    implementation 'co.elastic.clients:elasticsearch-java:8.15.0'
    implementation 'org.elasticsearch.client:elasticsearch-rest-client:8.15.0'
    implementation 'org.apache.httpcomponents:httpclient:4.5.14'
    implementation 'org.apache.httpcomponents:httpcore:4.4.16'
    
    // ==================== HTTP ÂÆ¢Êà∑Á´Ø - AI Ê®°ÂûãË∞ÉÁî® ====================
    implementation('com.squareup.okhttp3:okhttp:4.12.0') {
        exclude group: 'org.jetbrains.kotlin', module: 'kotlin-stdlib'
        exclude group: 'org.jetbrains.kotlin', module: 'kotlin-stdlib-common'
        exclude group: 'org.jetbrains.kotlin', module: 'kotlin-stdlib-jdk7'
        exclude group: 'org.jetbrains.kotlin', module: 'kotlin-stdlib-jdk8'
    }
}

intellij {
    version = '2024.1.6'
    type = 'IU'
    plugins = ['java', 'org.intellij.groovy', 'properties', 'vcs-git']
    updateSinceUntilBuild = false
}

// Á°Æ‰øùZIPÊñá‰ª∂‰ΩøÁî®UTF-8ÁºñÁ†Å
tasks.withType(Zip) {
    metadataCharset = 'UTF-8'
}

// Á¶ÅÁî®Êèí‰ª∂ÁâàÊú¨Ê£ÄÊü•ÔºåÈÅøÂÖçÁΩëÁªúÈóÆÈ¢òÂØºËá¥ÁöÑË≠¶Âëä
tasks.withType(org.jetbrains.intellij.tasks.InitializeIntelliJPluginTask) {
    offline = true
}

// Á°Æ‰øùÂõæÊ†áËµÑÊ∫êË¢´Ê≠£Á°ÆÂåÖÂê´
sourceSets {
    main {
        resources {
            srcDirs = ['src/main/resources']
            includes = ['**/*.svg', '**/*.png', '**/*.gif', '**/*.jpg', '**/*.jpeg', '**/*.xml', '**/*.properties', '**/*.gdsl', '**/*.html', '**/*.txt', '**/*.md']
        }
    }
}

// ÁîüÊàê/Êõ¥Êñ∞ÁâàÊú¨‰ø°ÊÅØËµÑÊ∫êÊñá‰ª∂
tasks.register('generateVersionProperties') {
    description = 'ÁîüÊàêÁâàÊú¨‰ø°ÊÅØÂ±ûÊÄßÊñá‰ª∂ÔºåÁî®‰∫éÂú®ËøêË°åÊó∂ËØªÂèñÁâàÊú¨Âè∑'
    group = 'version'
    
    doLast {
        def outputFile = file("$projectDir/src/main/resources/version.properties")
        outputFile.text = """# Auto-generated version information
# DO NOT EDIT THIS FILE MANUALLY
# This file is generated by Gradle task 'generateVersionProperties'
# To update version, edit gradle.properties file and run: gradlew updateVersion

version=${pluginVersion}
versionType=${versionType}
releaseDate=${releaseDate}
currentFeatures=${currentFeatures}
"""
        println "‚úì Generated version.properties with version: ${pluginVersion}"
    }
}

// Êõ¥Êñ∞ README.md ‰∏≠ÁöÑÁâàÊú¨Âè∑
tasks.register('updateReadmeVersion') {
    description = 'Ëá™Âä®Êõ¥Êñ∞ README.md ‰∏≠ÁöÑÁâàÊú¨Âè∑ÂæΩÁ´†'
    group = 'version'
    
    doLast {
        def readmeFile = file('README.md')
        if (readmeFile.exists()) {
            def content = readmeFile.text
            // Êõ¥Êñ∞ÁâàÊú¨Âè∑ÂæΩÁ´†
            content = content.replaceAll(
                /https:\/\/img\.shields\.io\/badge\/Version-[\d.]+/,
                "https://img.shields.io/badge/Version-${pluginVersion}"
            )
            readmeFile.text = content
            println "‚úì Updated README.md version badge to: ${pluginVersion}"
        } else {
            println "‚úó README.md not found"
        }
    }
}

// ÂàõÂª∫‰∏Ä‰∏™‰æøÊç∑‰ªªÂä°Êù•Êõ¥Êñ∞ÊâÄÊúâÁâàÊú¨Áõ∏ÂÖ≥Êñá‰ª∂
tasks.register('updateVersion') {
    description = 'Êõ¥Êñ∞È°πÁõÆ‰∏≠ÊâÄÊúâÁâàÊú¨Áõ∏ÂÖ≥ÁöÑÊñá‰ª∂ÔºàÂú®‰øÆÊîπ gradle.properties ÂêéËøêË°åÊ≠§‰ªªÂä°Ôºâ'
    group = 'version'
    
    dependsOn 'generateVersionProperties', 'updateReadmeVersion'
    
    doLast {
        println """
========================================
‚úì ÁâàÊú¨Êõ¥Êñ∞ÂÆåÊàêÔºÅ
========================================
ÂΩìÂâçÁâàÊú¨Ôºö${pluginVersion}
ÁâàÊú¨Á±ªÂûãÔºö${versionType}
ÂèëÂ∏ÉÊó•ÊúüÔºö${releaseDate}
‰∏ªË¶ÅÂäüËÉΩÔºö${currentFeatures}
========================================
Â∑≤Êõ¥Êñ∞ÁöÑÊñá‰ª∂Ôºö
1. src/main/resources/version.properties
2. README.md

Ê≥®ÊÑè‰∫ãÈ°πÔºö
- ÁâàÊú¨Âè∑Â∑≤‰ªé gradle.properties ÂêåÊ≠•Âà∞ÊâÄÊúâÁõ∏ÂÖ≥Êñá‰ª∂
- VersionInfo.java Â∞ÜÂú®ËøêË°åÊó∂Ëá™Âä®‰ªé version.properties ËØªÂèñÁâàÊú¨‰ø°ÊÅØ
- Â¶ÇÈúÄÂèëÂ∏ÉÊñ∞ÁâàÊú¨ÔºåËØ∑ÂÖà‰øÆÊîπ gradle.properties ‰∏≠ÁöÑÁâàÊú¨‰ø°ÊÅØÔºåÁÑ∂ÂêéËøêË°åÔºö
  Windows: gradlew updateVersion
  Linux/Mac: ./gradlew updateVersion
========================================
"""
    }
}

tasks.withType(org.jetbrains.intellij.tasks.BuildSearchableOptionsTask) {
    enabled = false
}

ext {
    niagara_home = project.rootDir.absolutePath
}

tasks.register('minJar', Jar) {
    archiveClassifier.set('min')
    from sourceSets.main.output
}

tasks.register('proguard', proguard.gradle.ProGuardTask) {
    dependsOn minJar
    doFirst {
        ext {
            injar = tasks.named('minJar').get().archiveFile.get().asFile
            outJar = file("$buildDir/libs/${rootProject.name}-${version}-proguarded.jar")

            fileTree(dir: 'lib', include: '*.jar').files.each { jarFile ->
                libraryjars(jarFile)
            }

            libraryjars(System.getProperty("java.home") + "/jmods/java.base.jmod")
        }

        injars injar
        outjars outJar
        configuration 'sensetech.pro'
    }
    outputs.upToDateWhen { false }
}

// ËøêË°åÊèí‰ª∂ÈÖçÁΩÆ
tasks.named("runIde") {
    // ‰ªéÁéØÂ¢ÉÂèòÈáèÊàñÁ≥ªÁªüÂ±ûÊÄß‰∏≠ËØªÂèñAPIÈÖçÁΩÆÔºåÂ¶ÇÊûúÊ≤°ÊúâÂàô‰ΩøÁî®ÈªòËÆ§ÂÄº
    jvmArgs = [
        "-Xmx2g",
        // ÁôæÂ∫¶ÁøªËØëAPIÈÖçÁΩÆ - ÊîØÊåÅÁéØÂ¢ÉÂèòÈáè
        "-Dbaidu.api.key=${System.getenv('BAIDU_API_KEY') ?: System.getProperty('baidu.api.key', '')}",
        "-Dbaidu.app.id=${System.getenv('BAIDU_APP_ID') ?: System.getProperty('baidu.app.id', '')}"
    ]

    // ÊâìÂç∞ÈÖçÁΩÆ‰ø°ÊÅØÔºàË∞ÉËØïÁî®ÔºåÁîü‰∫ßÁéØÂ¢ÉÂª∫ËÆÆÁßªÈô§Ôºâ
    doFirst {
        println "BAIDU_API_KEY ÁéØÂ¢ÉÂèòÈáè: ${System.getenv('BAIDU_API_KEY') ? 'Â∑≤ËÆæÁΩÆ' : 'Êú™ËÆæÁΩÆ'}"
        println "BAIDU_APP_ID ÁéØÂ¢ÉÂèòÈáè: ${System.getenv('BAIDU_APP_ID') ? 'Â∑≤ËÆæÁΩÆ' : 'Êú™ËÆæÁΩÆ'}"
    }
}

patchPluginXml {
    sinceBuild.set("241") // ËÆæÁΩÆÊúÄ‰ΩéÊîØÊåÅÁâàÊú¨‰∏∫ 2024.1ÔºåÂåπÈÖç Java 17 Ë¶ÅÊ±Ç
    // ‰∏çËÆæÁΩÆ untilBuildÔºåÂÖÅËÆ∏Âú®‰ªª‰ΩïÊõ¥È´òÁâàÊú¨‰∏ä‰ΩøÁî®

    // Êèí‰ª∂ËØ¶ÁªÜÊèèËø∞ÂíåÂèòÊõ¥ËØ¥Êòé
    pluginDescription.set("""
        PandaCoder is an intelligent development tool designed for Chinese developers, integrating Chinese programming assistant, comprehensive Jenkins Pipeline support, and SpringBoot configuration visualization.

        üéØ Core Features:

        üìù Chinese Programming Assistant:
        ‚Ä¢ Intelligent Chinese to English conversion: Achieved through large models and prompt engineering, avoiding mechanical word-for-word translation
        ‚Ä¢ Smart class creation: Supports Chinese input for quick Java class creation with automatic English conversion
        ‚Ä¢ Class name prefix recognition: Supports "Service:User Management" format for standardized naming
        ‚Ä¢ Multiple naming formats: CamelCase, PascalCase, UPPER_CASE with underscores
        ‚Ä¢ Multi-engine translation: Domestic AI models (Qianwen/Wenxin/Zhipu) > Google Cloud Translation > Baidu Translation

        üê≥ Jenkins Pipeline Support:
        ‚Ä¢ Custom file type and icon: Jenkins robot icon with 5-layer theme override protection
        ‚Ä¢ Enhanced syntax highlighting: 11 vibrant colors in VS Code style
        ‚Ä¢ Intelligent completion: pipeline, stage, step keywords and methods
        ‚Ä¢ Environment variable completion: Auto-recognizes env.BUILD_NUMBER, env.WORKSPACE, etc.
        ‚Ä¢ Parameter completion: Auto-completes params.APP_NAME, params.DEPLOY_ENV, etc.
        ‚Ä¢ Documentation support: Hover documentation and method signatures
        ‚Ä¢ Customizable colors: Adjust syntax highlighting colors in IDE settings

        üçÉ SpringBoot Configuration Icons:
        ‚Ä¢ Technology stack recognition: MySQL, PostgreSQL, Oracle, SQL Server, Redis, Kafka, RabbitMQ, Elasticsearch
        ‚Ä¢ Smart icon display: Colorful technology stack icons in editor gutter
        ‚Ä¢ Multi-format support: YAML and Properties configuration files
        ‚Ä¢ Priority matching: Specific technology icons override generic configuration icons
        ‚Ä¢ Hover tooltips: Display technology stack names and detailed information

        ‚öôÔ∏è Advanced Features:
        ‚Ä¢ Custom translation prompts: Adapt to different technical domains
        ‚Ä¢ File template configuration: Custom Java file comment templates
        ‚Ä¢ API configuration validation: Real-time verification of translation engine APIs
        ‚Ä¢ Smart error handling: Graceful degradation ensuring functionality availability
        ‚Ä¢ Three-tier translation engine: Ensures translation quality and availability

        üé® Technical Highlights:
        ‚Ä¢ Intelligent priority matching: Avoids icon conflicts, displays most relevant technology stack icons
        ‚Ä¢ Multi-language support: Chinese and English programming environments
        ‚Ä¢ Theme compatibility: Custom icons support light and dark themes
        ‚Ä¢ Performance optimization: Thread-safe caching and intelligent loading

        Significantly improves development efficiency for Chinese-speaking developers and enhances Jenkins Pipeline development experience while providing intuitive SpringBoot configuration visualization.
    """)

    changeNotes.set("""
        <ul>
            <li><b>2.0.0</b> - üéâ <b>ÈáçÂ§ßÁâàÊú¨Êõ¥Êñ∞</b>ÔºöÊñ∞Â¢û Elasticsearch DSL Monitor Âíå SQL Monitor ÂäüËÉΩ (2025-10-19)
                <ul>
                    <li>üîç <b>Elasticsearch DSL Monitor</b>ÔºöÂÆûÊó∂ÁõëÊéßÂíåÊçïËé∑ ES DSL Êü•ËØ¢
                        <ul>
                            <li>ÂÆûÊó∂Êü•ËØ¢ÊçïËé∑ÔºöËá™Âä®ÁõëÊéßÊéßÂà∂Âè∞ËæìÂá∫ÔºåÂÆûÊó∂ÊçïËé∑ÊâÄÊúâ ES DSL Êü•ËØ¢</li>
                            <li>Êô∫ËÉΩÊ†ºÂºèËß£ÊûêÔºöÊîØÊåÅÂ§öÁßçÊ†ºÂºèÔºàREST Client„ÄÅcURL„ÄÅSpring Data ElasticsearchÔºâ</li>
                            <li>ÂèØËßÜÂåñÂ±ïÁ§∫ÔºöÁã¨Á´ãÂ∑•ÂÖ∑Á™óÂè£Â±ïÁ§∫Êü•ËØ¢ËØ¶ÊÉÖÔºåÊîØÊåÅJSONÊ†ºÂºèÂåñ</li>
                            <li>Êü•ËØ¢ÁÆ°ÁêÜÔºöÊîØÊåÅÊêúÁ¥¢„ÄÅËøáÊª§ÔºàÊåâHTTPÊñπÊ≥ï„ÄÅÊó∂Èó¥ËåÉÂõ¥Ôºâ„ÄÅÂØºÂá∫Êü•ËØ¢ËÆ∞ÂΩï</li>
                            <li>Êú¨Âú∞ÊåÅ‰πÖÂåñÔºöËá™Âä®‰øùÂ≠òÊü•ËØ¢ÂéÜÂè≤ÔºåÊúÄÂ§öÂ≠òÂÇ®1000Êù°ËÆ∞ÂΩï</li>
                            <li>ÂΩ©Ëâ≤Ê†áËØÜÔºöHTTPÊñπÊ≥ïÂíåÁä∂ÊÄÅÁ†ÅÂ∏¶È¢úËâ≤Âå∫ÂàÜÔºàGETËìùËâ≤„ÄÅPOSTÁªøËâ≤„ÄÅPUTÊ©ôËâ≤„ÄÅDELETEÁ∫¢Ëâ≤Ôºâ</li>
                            <li>ÊÄßËÉΩËøΩË∏™ÔºöËÆ∞ÂΩïÊü•ËØ¢ÊâßË°åÊó∂Èó¥ÂíåHTTPÁä∂ÊÄÅÁ†Å</li>
                            <li>Èùû‰æµÂÖ•ÂºèÔºöÈÄöËøáÊó•ÂøóÁõëÂê¨ÂÆûÁé∞ÔºåÊó†ÈúÄ‰øÆÊîπÂ∫îÁî®‰ª£Á†Å</li>
                        </ul>
                    </li>
                    <li>üíæ <b>SQL Monitor</b>ÔºöÂÆûÊó∂ÁõëÊéßÂíåÊçïËé∑ SQL Êü•ËØ¢
                        <ul>
                            <li>ÂÆûÊó∂SQLÊçïËé∑ÔºöËá™Âä®ÁõëÊéßÊéßÂà∂Âè∞ËæìÂá∫ÔºåÂÆûÊó∂ÊçïËé∑ÊâÄÊúâ SQL Êü•ËØ¢</li>
                            <li>MyBatisÊó•ÂøóËß£ÊûêÔºöÊô∫ËÉΩËß£Êûê MyBatis Êó•ÂøóÊ†ºÂºèÔºàPreparing + Parameters + TotalÔºâ</li>
                            <li>Êìç‰ΩúÁ±ªÂûãËØÜÂà´ÔºöËá™Âä®ËØÜÂà´ SELECT/INSERT/UPDATE/DELETE Êìç‰Ωú</li>
                            <li>Ë°®ÂêçÊô∫ËÉΩÊèêÂèñÔºöËá™Âä®ÊèêÂèñÊï∞ÊçÆÂ∫ìË°®Âêç</li>
                            <li>ÂèÇÊï∞ÂÆåÊï¥ËÆ∞ÂΩïÔºöÂÆåÊï¥ËÆ∞ÂΩï SQL ÂèÇÊï∞ÂèäÁ±ªÂûã</li>
                            <li>APIË∑ØÂæÑËøΩË∏™ÔºöÊòæÁ§∫Ëß¶Âèë SQL ÁöÑ API Êé•Âè£Ë∑ØÂæÑ</li>
                            <li>Ë∞ÉÁî®ÈìæËøΩË∏™ÔºöËÆ∞ÂΩïË∞ÉÁî® SQL ÁöÑ Java Á±ªÂíåË°åÂè∑</li>
                            <li>Â§öÁª¥Â∫¶Á≠õÈÄâÔºöÊîØÊåÅÊåâÊìç‰ΩúÁ±ªÂûã„ÄÅË°®Âêç„ÄÅÊó∂Èó¥ËåÉÂõ¥Á≠õÈÄâ</li>
                            <li>ÂΩ©Ëâ≤Ê†áËØÜÔºö‰∏çÂêåÊìç‰ΩúÁ±ªÂûãÁî®‰∏çÂêåÈ¢úËâ≤Ê†áËØÜÔºàSELECTËìùËâ≤„ÄÅINSERTÁªøËâ≤„ÄÅUPDATEÊ©ôËâ≤„ÄÅDELETEÁ∫¢Ëâ≤Ôºâ</li>
                            <li>ÁªüËÆ°‰ø°ÊÅØÔºöÂÆûÊó∂ÊòæÁ§∫ÂêÑÁ±ª SQL ÁªüËÆ°Êï∞ÊçÆ</li>
                            <li>ÂØºÂá∫ÂäüËÉΩÔºöÊîØÊåÅÂØºÂá∫ SQL Âà∞Ââ™Ë¥¥Êùø</li>
                        </ul>
                    </li>
                    <li>üé® <b>Áî®Êà∑‰ΩìÈ™å‰ºòÂåñ</b>Ôºö
                        <ul>
                            <li>Áã¨Á´ãÂ∑•ÂÖ∑Á™óÂè£ÔºöES DSL Monitor Âíå SQL Monitor ÂêÑËá™Êã•ÊúâÁã¨Á´ãÁöÑÂ∑•ÂÖ∑Á™óÂè£</li>
                            <li>ÂÆûÊó∂ÂºÄÂÖ≥ÊéßÂà∂ÔºöÊîØÊåÅÈöèÊó∂ÂêØÁî®/Á¶ÅÁî®ÁõëÊéßÂäüËÉΩ</li>
                            <li>Êô∫ËÉΩÊêúÁ¥¢ËøáÊª§ÔºöÊîØÊåÅÂÖ≥ÈîÆÂ≠óÊêúÁ¥¢ÂíåÂ§öÁª¥Â∫¶ËøáÊª§</li>
                            <li>ËØ¶ÊÉÖÈù¢ÊùøÔºöÁÇπÂáªËÆ∞ÂΩïÊü•ÁúãÂÆåÊï¥ÁöÑÊü•ËØ¢ËØ¶ÊÉÖÂíåÂìçÂ∫î‰ø°ÊÅØ</li>
                            <li>‰∏ÄÈîÆÂ§çÂà∂ÔºöÊîØÊåÅ‰∏ÄÈîÆÂ§çÂà∂ DSL„ÄÅSQL ÊàñÂÆåÊï¥‰ø°ÊÅØÂà∞Ââ™Ë¥¥Êùø</li>
                            <li>KibanaÊ†ºÂºèÔºöES Monitor ÊîØÊåÅÁîüÊàê Kibana ÂèØÁõ¥Êé•‰ΩøÁî®ÁöÑÊü•ËØ¢Ê†ºÂºè</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><b>1.1.9</b> - üß™ <b>Êñ∞Â¢ûÂäüËÉΩ</b>ÔºöÊ®°ÂäõÊñπËàüËÖæËÆØÊ∑∑ÂÖÉÊ®°ÂûãÁøªËØë‰∏∫ÈªòËÆ§ÂÄº
                <ul>
                    <li>üêõ <b>BugËÆ∞ÂΩïÂ∑•ÂÖ∑Á™óÂè£</b>ÔºöÊ®°ÂäõÊñπËàüËÖæËÆØÊ∑∑ÂÖÉÊ®°ÂûãÁøªËØë‰∏∫ÈªòËÆ§ÂÄº</li>
                </ul>
            </li>
            <li><b>1.1.8</b> - üß™ <b>ÂÜÖÊµãÁâàÊú¨</b>ÔºöÊñ∞Â¢ûBugËÆ∞ÂΩïÂäüËÉΩÊú¨Âú∞Êñá‰ª∂ÂêØÁî®Á¶ÅÁî®ÂäüËÉΩ
                <ul>
                    <li>üêõ <b>BugËÆ∞ÂΩïÂ∑•ÂÖ∑Á™óÂè£</b>ÔºöÊñ∞Â¢ûBugËÆ∞ÂΩïÂäüËÉΩÊú¨Âú∞Êñá‰ª∂ÂêØÁî®Á¶ÅÁî®ÂäüËÉΩ</li>
                </ul>
            </li>
            <li><b>1.1.7</b> - üß™ <b>ÂÜÖÊµãÁâàÊú¨</b>ÔºöÊñ∞Â¢ûBugËÆ∞ÂΩïÂäüËÉΩ
                <ul>
                    <li>üêõ <b>BugËÆ∞ÂΩïÂ∑•ÂÖ∑Á™óÂè£</b>ÔºöÊñ∞Â¢û‰∏ìÈó®ÁöÑBugËÆ∞ÂΩïÂ∑•ÂÖ∑Á™óÂè£ÔºåÊñπ‰æøÂºÄÂèëËøáÁ®ã‰∏≠ËÆ∞ÂΩïÂíåÁÆ°ÁêÜÈóÆÈ¢ò</li>
                    <li>üìù <b>Êô∫ËÉΩÈîôËØØËß£Êûê</b>ÔºöËá™Âä®Ëß£ÊûêÊéßÂà∂Âè∞ËæìÂá∫ÁöÑÈîôËØØ‰ø°ÊÅØÔºåÊèêÂèñÂÖ≥ÈîÆÈîôËØØ‰ø°ÊÅØ</li>
                    <li>üîç <b>ÈîôËØØÁ±ªÂûãËØÜÂà´</b>ÔºöËá™Âä®ËØÜÂà´‰∏çÂêåÁ±ªÂûãÁöÑÈîôËØØÔºàÁºñËØëÈîôËØØ„ÄÅËøêË°åÊó∂ÈîôËØØ„ÄÅË≠¶ÂëäÁ≠âÔºâ</li>
                    <li>üìä <b>BugÁä∂ÊÄÅÁÆ°ÁêÜ</b>ÔºöÊîØÊåÅÊ†áËÆ∞BugÁä∂ÊÄÅÔºàÊñ∞Âª∫„ÄÅÂ§ÑÁêÜ‰∏≠„ÄÅÂ∑≤Ëß£ÂÜ≥„ÄÅÂ∑≤ÂÖ≥Èó≠Ôºâ</li>
                    <li>‚è∞ <b>Êó∂Èó¥Êà≥ËÆ∞ÂΩï</b>ÔºöËá™Âä®ËÆ∞ÂΩïBugÂèëÁé∞Êó∂Èó¥ÂíåÂ§ÑÁêÜÊó∂Èó¥</li>
                    <li>üíæ <b>Êú¨Âú∞Â≠òÂÇ®</b>ÔºöBugËÆ∞ÂΩï‰øùÂ≠òÂú®Êú¨Âú∞ÔºåÁ°Æ‰øùÊï∞ÊçÆÂÆâÂÖ®</li>
                    <li>üîß <b>ÊéßÂà∂Âè∞ÁõëÊéß</b>ÔºöÂÆûÊó∂ÁõëÊéßÊéßÂà∂Âè∞ËæìÂá∫ÔºåËá™Âä®ÊçïËé∑ÈîôËØØ‰ø°ÊÅØ</li>
                    <li>‚öôÔ∏è <b>Â≠òÂÇ®ÈÖçÁΩÆ</b>ÔºöÊîØÊåÅÈÖçÁΩÆÊòØÂê¶ÂêØÁî®Êú¨Âú∞Êñá‰ª∂Â≠òÂÇ®</li>
                    <li>‚ö†Ô∏è <b>ÂÜÖÊµãÂäüËÉΩ</b>ÔºöÊ≠§ÂäüËÉΩÁõÆÂâçÂ§Ñ‰∫éÂÜÖÊµãÈò∂ÊÆµÔºåÂèØËÉΩÂ≠òÂú®‰∏çÁ®≥ÂÆöÊÄßÔºåËØ∑Ë∞®ÊÖé‰ΩøÁî®</li>
                </ul>
            </li>
            <li><b>1.1.6</b> - Áî®Êà∑‰ΩìÈ™åÂÖ®Èù¢ÂçáÁ∫ß (2024-11-15)
                <ul>
                    <li>üé® <b>Áé∞‰ª£ÂåñÊ¨¢ËøéÁïåÈù¢</b>ÔºöÂÖ®Êñ∞ËÆæËÆ°ÁöÑÊ¨¢ËøéÂØπËØùÊ°ÜÔºåÊèê‰æõÊõ¥ÁæéËßÇÁöÑÁî®Êà∑‰ΩìÈ™å</li>
                    <li>üì± <b>ÂæÆ‰ø°ÂÖ¨‰ºóÂè∑ÈõÜÊàê</b>Ôºö‰∏ÄÈîÆÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑ÔºåËé∑ÂèñÊúÄÊñ∞ÂäüËÉΩÊõ¥Êñ∞ÂíåÊäÄÊúØÂàÜ‰∫´</li>
                    <li>üí¨ <b>ÈóÆÈ¢òÂèçÈ¶à‰ºòÂåñ</b>ÔºöÊèê‰æõÊõ¥‰æøÊç∑ÁöÑÈóÆÈ¢òÂèçÈ¶àÊ∏†ÈÅìÔºåÊîØÊåÅÂæÆ‰ø°Áõ¥Êé•ËÅîÁ≥ª</li>
                    <li>üè¢ <b>‰ΩúËÄÖ‰ø°ÊÅØÂ±ïÁ§∫</b>ÔºöÊòæÁ§∫‰ΩúËÄÖÊâÄÂú®ÂÖ¨Âè∏‰ø°ÊÅØÔºåÂ¢ûÂº∫Áî®Êà∑‰ø°‰ªªÂ∫¶</li>
                    <li>üîß <b>ÁïåÈù¢Â∏ÉÂ±Ä‰ºòÂåñ</b>ÔºöÈáçÊñ∞ËÆæËÆ°ÁïåÈù¢Â∏ÉÂ±ÄÔºå‰ø°ÊÅØÂ±ïÁ§∫Êõ¥Âä†Ê∏ÖÊô∞</li>
                    <li>üìä <b>ÂäüËÉΩÁâπÊÄßÂ±ïÁ§∫</b>ÔºöËØ¶ÁªÜÂ±ïÁ§∫Êèí‰ª∂Ê†∏ÂøÉÂäüËÉΩÔºåÂ∏ÆÂä©Áî®Êà∑Âø´ÈÄü‰∫ÜËß£</li>
                    <li>üéØ <b>‰∏ÄÈîÆÂºÄÂßã‰ΩøÁî®</b>ÔºöÁÆÄÂåñÁî®Êà∑Êìç‰ΩúÊµÅÁ®ãÔºåÂø´ÈÄüËøõÂÖ•Â∑•‰ΩúÁä∂ÊÄÅ</li>
                </ul>
            </li>
            <li><b>1.1.5</b> - ÈáçÂ§ßÂäüËÉΩÂçáÁ∫ßÔºöÊñ∞Â¢ûSpringBootÈÖçÁΩÆÊñá‰ª∂ÂõæÊ†áÊòæÁ§∫ÂäüËÉΩ (2024-10-20)
                <ul>
                    <li>üçÉ <b>SpringBootÈÖçÁΩÆÊñá‰ª∂ÂõæÊ†á</b>ÔºöËá™Âä®ËØÜÂà´ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÊäÄÊúØÊ†àÂπ∂ÊòæÁ§∫ÂØπÂ∫îÂõæÊ†á</li>
                    <li>üéØ <b>ÊäÄÊúØÊ†àËØÜÂà´</b>ÔºöÊîØÊåÅMySQL„ÄÅPostgreSQL„ÄÅOracle„ÄÅSQL Server„ÄÅRedis„ÄÅKafka„ÄÅRabbitMQ„ÄÅElasticsearchÁ≠â</li>
                    <li>üìÅ <b>Â§öÊ†ºÂºèÊîØÊåÅ</b>ÔºöÊîØÊåÅYAMLÂíåPropertiesÊ†ºÂºèÁöÑÈÖçÁΩÆÊñá‰ª∂</li>
                    <li>üé® <b>Êô∫ËÉΩÂõæÊ†áÊòæÁ§∫</b>ÔºöÂú®ÁºñËæëÂô®Â∑¶‰æßgutterÂå∫ÂüüÊòæÁ§∫ÂΩ©Ëâ≤ÊäÄÊúØÊ†àÂõæÊ†á</li>
                    <li>üß† <b>‰ºòÂÖàÁ∫ßÂåπÈÖç</b>ÔºöÁâπÂÆöÊäÄÊúØÊ†àÂõæÊ†á‰ºòÂÖà‰∫éÈÄöÁî®ÈÖçÁΩÆÂõæÊ†á</li>
                    <li>üñ±Ô∏è <b>Èº†Ê†áÊÇ¨ÂÅúÊèêÁ§∫</b>ÔºöÊòæÁ§∫ÊäÄÊúØÊ†àÂêçÁß∞ÂíåËØ¶ÁªÜ‰ø°ÊÅØ</li>
                </ul>
            </li>
            <li><b>1.1.4</b> - Â§öÂºïÊìéÁøªËØëÁ≥ªÁªüÈáçÂ§ßÂçáÁ∫ß (2024-09-25)
                <ul>
                    <li>ü§ñ <b>ÂõΩÂÜÖÂ§ßÊ®°ÂûãÊîØÊåÅ</b>ÔºöÊñ∞Â¢ûÈÄö‰πâÂçÉÈóÆ„ÄÅÊñáÂøÉ‰∏ÄË®Ä„ÄÅÊô∫Ë∞±AI‰∏âÂ§ßÂõΩÂÜÖÂ§ßÊ®°Âûã</li>
                    <li>üåê <b>Google Cloud Translation</b>ÔºöÊñ∞Â¢ûGoogleÁøªËØëAPIÊîØÊåÅ</li>
                    <li>üîÑ <b>‰∏âÁ∫ßÁøªËØëÂºïÊìé</b>ÔºöÂõΩÂÜÖÂ§ßÊ®°Âûã > GoogleÁøªËØë > ÁôæÂ∫¶ÁøªËØëÊô∫ËÉΩÂàáÊç¢</li>
                    <li>‚öôÔ∏è <b>Ëá™ÂÆö‰πâÁøªËØëÊèêÁ§∫ËØç</b>ÔºöÊîØÊåÅÁî®Êà∑Ëá™ÂÆö‰πâÁøªËØëpromptÔºåÈÄÇÈÖç‰∏çÂêåÊäÄÊúØÈ¢ÜÂüü</li>
                    <li>üîß <b>APIÈÖçÁΩÆÈ™åËØÅ</b>ÔºöÂÆûÊó∂È™åËØÅÂêÑÁøªËØëÂºïÊìéÁöÑAPIÈÖçÁΩÆ</li>
                    <li>üõ°Ô∏è <b>Êô∫ËÉΩÈîôËØØÂ§ÑÁêÜ</b>Ôºö‰ºòÈõÖÈôçÁ∫ßÔºåÁ°Æ‰øùÂäüËÉΩÂèØÁî®ÊÄß</li>
                    <li>üìä <b>ÈÖçÁΩÆÈ°µÈù¢‰ºòÂåñ</b>ÔºöÂàÜ‰∏∫4‰∏™Ê†áÁ≠æÈ°µÔºåÁïåÈù¢Êõ¥Âä†Ê∏ÖÊô∞ÊòìÁî®</li>
                </ul>
            </li>
            <li><b>1.1.3</b> - ‰∏≠ÊñáÁºñÁ®ãÂä©ÊâãÂäüËÉΩÂÆåÂñÑ (2024-08-30)
                <ul>
                    <li>üéØ <b>Á±ªÂêçÂâçÁºÄËØÜÂà´</b>ÔºöÊîØÊåÅ"Service:Áî®Êà∑ÁÆ°ÁêÜ"Ê†ºÂºèÔºåËá™Âä®ÁîüÊàêServiceUserManagementÁ≠âËßÑËåÉÁ±ªÂêç</li>
                    <li>üìù <b>Ëá™ÂÆö‰πâÊñá‰ª∂Ê®°Êùø</b>ÔºöÊîØÊåÅÁî®Êà∑Ëá™ÂÆö‰πâJavaÊñá‰ª∂Ê≥®ÈáäÊ®°Êùø</li>
                    <li>üîß <b>Êô∫ËÉΩÁ≤æÁÆÄËΩ¨Êç¢</b>ÔºöËá™Âä®ÊèêÂèñÊ†∏ÂøÉÊäÄÊúØËØçÊ±áÔºåÂéªÈô§Êó†Áî®ËØç</li>
                    <li>‚öôÔ∏è <b>Á±ªÂêçÂâçÁºÄÈÖçÁΩÆ</b>ÔºöÊîØÊåÅËá™ÂÆö‰πâÁ±ªÂêçÂâçÁºÄÂàóË°®</li>
                </ul>
            </li>
            <li><b>1.1.2</b> - Êñ∞Â¢ûÂÆåÊï¥Jenkins PipelineÊîØÊåÅ (2024-08-15)
                <ul>
                    <li>‚ú® <b>Ëá™ÂÆö‰πâJenkinsÊñá‰ª∂Á±ªÂûãÂíåÂõæÊ†áÊòæÁ§∫</b></li>
                    <li>üé® <b>11ÁßçÈ≤úËâ≥È¢úËâ≤ÁöÑËØ≠Ê≥ïÈ´ò‰∫Æ(VS CodeÈ£éÊ†º)</b></li>
                    <li>üîß <b>Êô∫ËÉΩË°•ÂÖ®</b>Ôºöpipeline„ÄÅstage„ÄÅstepÁ≠âÂÖ≥ÈîÆÂ≠ó</li>
                    <li>üåç <b>ÁéØÂ¢ÉÂèòÈáèË°•ÂÖ®</b>Ôºöenv.BUILD_NUMBER„ÄÅenv.WORKSPACEÁ≠â</li>
                    <li>üìã <b>ÂèÇÊï∞Ë°•ÂÖ®</b>Ôºöparams.APP_NAME„ÄÅparams.DEPLOY_ENVÁ≠â</li>
                    <li>üìñ <b>ÊÇ¨ÂÅúÊñáÊ°£</b>ÔºöÊòæÁ§∫ÊñπÊ≥ïÁ≠æÂêçÂíåÂèÇÊï∞ËØ¥Êòé</li>
                    <li>üõ°Ô∏è <b>Èò≤‰∏ªÈ¢òË¶ÜÁõñ</b>Ôºö5Â±ÇÈò≤Êä§Á°Æ‰øùÂõæÊ†áÂú®‰ªª‰Ωï‰∏ªÈ¢ò‰∏ãÊ≠£Á°ÆÊòæÁ§∫</li>
                    <li>‚öôÔ∏è <b>ÂèØËá™ÂÆö‰πâÈ¢úËâ≤</b>ÔºöÊîØÊåÅÂú®ËÆæÁΩÆ‰∏≠Ë∞ÉÊï¥ËØ≠Ê≥ïÈ´ò‰∫ÆÈ¢úËâ≤</li>
                </ul>
            </li>
            <li><b>1.1.1</b> - Âü∫Á°ÄÂäüËÉΩ‰ºòÂåñ (2024-08-01)
                <ul>
                    <li>üîß <b>ÊÄßËÉΩ‰ºòÂåñ</b>ÔºöÊèêÂçáÊèí‰ª∂ÂêØÂä®ÈÄüÂ∫¶ÂíåÂìçÂ∫îÊÄßËÉΩ</li>
                    <li>üêõ <b>Bug‰øÆÂ§ç</b>Ôºö‰øÆÂ§çÂ∑≤Áü•ÈóÆÈ¢òÔºåÊèêÂçáÁ®≥ÂÆöÊÄß</li>
                    <li>üìù <b>ÊñáÊ°£ÂÆåÂñÑ</b>ÔºöÂÆåÂñÑÁî®Êà∑ÊñáÊ°£Âíå‰ΩøÁî®ËØ¥Êòé</li>
                </ul>
            </li>
            <li><b>1.1.0</b> - ÊîØÊåÅIntelliJ IDEA 2024.1ÔºåÂçáÁ∫ßÂà∞Java 17 (2024-07-15)
                <ul>
                    <li>‚òï <b>Java 17ÊîØÊåÅ</b>ÔºöÂçáÁ∫ßÂà∞Java 17ÔºåÂÖºÂÆπÊúÄÊñ∞IntelliJ IDEA</li>
                    <li>üÜï <b>IDEA 2024.1ÊîØÊåÅ</b>ÔºöÂÆåÂÖ®ÂÖºÂÆπIntelliJ IDEA 2024.1ÁâàÊú¨</li>
                    <li>üîß <b>APIÊõ¥Êñ∞</b>ÔºöÈÄÇÈÖçÊúÄÊñ∞ÁöÑIntelliJ Platform API</li>
                </ul>
            </li>
            <li><b>1.0.9</b> - Êñ∞Â¢ûÊô∫ËÉΩÁ±ªÂàõÂª∫ÂíåÂâçÁºÄÊîØÊåÅ (2024-06-20)
                <ul>
                    <li>üéØ <b>Êô∫ËÉΩÁ±ªÂàõÂª∫</b>ÔºöÊîØÊåÅ‰∏≠ÊñáËæìÂÖ•Âø´ÈÄüÂàõÂª∫JavaÁ±ª</li>
                    <li>üìù <b>ÂâçÁºÄÊîØÊåÅ</b>ÔºöÊîØÊåÅÁ±ªÂêçÂâçÁºÄËá™Âä®ËØÜÂà´</li>
                    <li>üîß <b>ÂëΩÂêçËßÑËåÉ</b>ÔºöËá™Âä®ËΩ¨Êç¢‰∏∫ËßÑËåÉÁöÑËã±ÊñáÁ±ªÂêç</li>
                </ul>
            </li>
            <li><b>1.0.8</b> - ÊîπËøõÁøªËØëÂáÜÁ°ÆÊÄßÔºåÊñ∞Â¢ûËá™ÂÆö‰πâÊ®°Êùø (2024-05-15)
                <ul>
                    <li>üéØ <b>ÁøªËØë‰ºòÂåñ</b>ÔºöÊèêÂçá‰∏≠ÊñáÂà∞Ëã±ÊñáÁöÑÁøªËØëÂáÜÁ°ÆÊÄß</li>
                    <li>üìù <b>Ëá™ÂÆö‰πâÊ®°Êùø</b>ÔºöÊîØÊåÅÁî®Êà∑Ëá™ÂÆö‰πâÊñá‰ª∂Ê®°Êùø</li>
                    <li>üîß <b>Áî®Êà∑‰ΩìÈ™å</b>Ôºö‰ºòÂåñÁî®Êà∑ÁïåÈù¢ÂíåÊìç‰ΩúÊµÅÁ®ã</li>
                </ul>
            </li>
            <li><b>1.0.7</b> - È¶ñÊ¨°ÂèëÂ∏ÉÔºåÂü∫Á°Ä‰∏≠Ëã±ÊñáËΩ¨Êç¢ÂäüËÉΩ (2024-04-01)
                <ul>
                    <li>üéØ <b>Âü∫Á°ÄÂäüËÉΩ</b>Ôºö‰∏≠ÊñáÂà∞Ëã±ÊñáÁöÑÊô∫ËÉΩËΩ¨Êç¢</li>
                    <li>üìù <b>ÂëΩÂêçÊ†ºÂºè</b>ÔºöÊîØÊåÅÂ§öÁßçÂëΩÂêçÊ†ºÂºèËΩ¨Êç¢</li>
                    <li>üîß <b>Ê†∏ÂøÉÊû∂ÊûÑ</b>ÔºöÂª∫Á´ãÊèí‰ª∂Âü∫Á°ÄÊû∂ÊûÑ</li>
                </ul>
            </li>
        </ul>
    """)
}

// Êèí‰ª∂ÂèëÂ∏ÉÈÖçÁΩÆ
publishPlugin {
    // ‰ªéÁéØÂ¢ÉÂèòÈáèËé∑ÂèñÂèëÂ∏É‰ª§ÁâåÔºåÂ¶ÇÊûúÊ≤°ÊúâÂàôÂ∞ùËØï‰ªéÁ≥ªÁªüÂ±ûÊÄßËé∑Âèñ
    token.set(System.getenv("JETBRAINS_TOKEN") ?: System.getProperty("jetbrains.token", ""))

    // ÂèëÂ∏ÉÊ∏†ÈÅìÔºåÈªòËÆ§‰∏∫ÈªòËÆ§Ê∏†ÈÅìÔºàÁ®≥ÂÆöÁâàÔºâ
    // ÂèØ‰ª•ËÆæÁΩÆ‰∏∫ 'eap'„ÄÅ'alpha' Êàñ 'beta' Áî®‰∫é‰∏çÂêåÁöÑÂèëÂ∏ÉÈò∂ÊÆµ
    channels.set([System.getenv("JETBRAINS_CHANNEL") ?: System.getProperty("jetbrains.channel", "default")])
}

// ‰ΩøÁî®Java 17ÔºåÂÖºÂÆπIntelliJ 2024.1.6
java {
    sourceCompatibility = JavaVersion.VERSION_17
    targetCompatibility = JavaVersion.VERSION_17
}

test {
    useJUnitPlatform()
}
