# MongoDB Configuration Example for Weekly Report Archive
# 周报归档MongoDB配置示例
# 复制此文件为 mongodb-config.properties 并填入真实配置

# MongoDB连接URL
# 格式: mongodb://[username:password@]host[:port][/database][?options]
# 示例（无认证）: mongodb://localhost:27017
# 示例（有认证）: mongodb://username:password@localhost:27017
mongodb.url=mongodb://localhost:27017

# 数据库名称
mongodb.database=pandacoder

# 集合名称（存储周报的集合）
mongodb.collection=weekly_reports

# 用户名（如果需要认证）
# 留空表示不使用认证
mongodb.username=

# 密码（如果需要认证）
# 留空表示不使用认证
mongodb.password=

# 认证数据库（用于验证用户身份的数据库）
# 默认为 admin，如果用户是在其他数据库创建的，需要指定该数据库
# 例如：如果用户是在 pandacoder 数据库创建的，则设置为 pandacoder
mongodb.auth.database=admin

# 连接超时时间（毫秒）
mongodb.connection.timeout=10000

# Socket超时时间（毫秒）
mongodb.socket.timeout=10000

# 最大连接池大小
mongodb.connection.pool.max.size=10

# 最小连接池大小
mongodb.connection.pool.min.size=1

# 说明：
# 1. 请勿将真实的 mongodb-config.properties 文件提交到版本控制
# 2. 建议将 mongodb-config.properties 添加到 .gitignore 文件中
# 3. 如果MongoDB部署在云端，请使用云服务商提供的连接字符串
# 4. 对于生产环境，建议启用认证并使用强密码
# 5. 如果使用MongoDB Atlas等云服务，URL格式可能类似：
#    mongodb+srv://username:password@cluster.mongodb.net/database?retryWrites=true&w=majority
#
# 认证问题排查：
# 1. 确认用户名和密码正确
# 2. 确认用户是在哪个数据库创建的（通常是 admin 或目标数据库）
# 3. 如果用户是在 pandacoder 数据库创建的，设置 mongodb.auth.database=pandacoder
# 4. 确认用户有足够的权限（至少需要 readWrite 角色）
# 5. 如果密码包含特殊字符，程序会自动进行URL编码
#
# 创建MongoDB用户示例（在MongoDB Shell中执行）：
# use admin
# db.createUser({
#   user: "your_username",
#   pwd: "your_password",
#   roles: [
#     { role: "readWrite", db: "pandacoder" }
#   ]
# })
#
# 或者在目标数据库创建用户：
# use pandacoder
# db.createUser({
#   user: "your_username",
#   pwd: "your_password",
#   roles: ["readWrite"]
# })
# 注意：如果在 pandacoder 数据库创建用户，需要设置 mongodb.auth.database=pandacoder

