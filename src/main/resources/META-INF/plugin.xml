<idea-plugin>
    <id>com.shuyixiao.yixiaoPlugins</id>

    <name>PandaCoder</name>
    <description>PandaCoder 是一款专为中文开发人员设计的智能工具，集成了中文编程助手、Jenkins Pipeline支持和Spring Boot Helper功能。

主要功能：
• 中文命名智能转换：自动将中文转换为英文变量名、类名等
• 智能类创建：支持中文输入快速创建Java类
• Jenkins Pipeline支持：提供智能补全、语法高亮、文档提示
• 环境变量和参数补全：自动识别env和params对象的属性
• 多种文本转换：支持驼峰、帕斯卡、下划线等命名格式转换
• Spring Boot Helper：配置文件智能补全、注解支持、属性验证
• 配置属性管理：支持application.properties智能补全和文档提示
• 注解智能补全：为Spring Boot常用注解提供智能补全和参数提示

大幅提高中文开发人员的编程效率、Jenkins Pipeline开发体验和Spring Boot开发效率。</description>
    <vendor email="yixiaoshu88@163.com" url="https://www.shuyixiao.top">舒一笑</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>
    <depends>org.intellij.groovy</depends>
    <depends>com.intellij.properties</depends>
    <depends>org.jetbrains.plugins.yaml</depends>

    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="com.shuyixiao.setting.PluginSettings"/>
        <applicationService serviceImplementation="com.shuyixiao.settings.ConversionSettings"/>
        <applicationConfigurable groupId="tools" displayName="PandaCoder" id="FileAnnotationInformationConfiguration"
                                instance="com.shuyixiao.setting.SettingConfigurable"/>
        <notificationGroup id="PandaCoder Notification Group" displayType="BALLOON" />
        
        <!-- Jenkins Pipeline支持扩展 -->
        <!-- 文件类型工厂：注册Jenkins文件类型和特殊文件名 -->
        <fileType.fileTypeFactory implementation="com.shuyixiao.jenkins.JenkinsFileTypeFactory"/>
        
        <!-- 语法高亮器：为Jenkins文件提供增强的语法高亮 -->
        <lang.syntaxHighlighterFactory language="Groovy" 
            implementationClass="com.shuyixiao.jenkins.highlight.JenkinsSyntaxHighlighterFactory"/>
        
        <!-- 颜色设置：允许用户自定义Jenkins Pipeline的语法高亮颜色 -->
        <colorSettingsPage implementation="com.shuyixiao.jenkins.highlight.JenkinsColorSettingsPage"/>
        
        <!-- 环境变量和参数映射 -->
        <groovy.mapContentProvider implementation="com.shuyixiao.jenkins.provider.JenkinsMapContentProvider"/>
        
        <!-- 文档提供器 -->
        <lang.documentationProvider language="Groovy" 
            implementationClass="com.shuyixiao.jenkins.documentation.JenkinsDocumentationProvider"/>
        
        <!-- 服务 -->
        <projectService serviceImplementation="com.shuyixiao.jenkins.gdsl.JenkinsGdslService"/>
        
        <!-- 启动活动：确保文件类型正确注册 -->
        <postStartupActivity implementation="com.shuyixiao.jenkins.JenkinsFileTypeRegistrar"/>
        
        <!-- 图标提供器：确保Jenkins图标不被主题覆盖 -->
        <iconProvider implementation="com.shuyixiao.jenkins.icon.JenkinsIconProvider"/>
        
        <!-- 文件图标提供器：最高优先级的图标覆盖 -->
        <fileIconProvider implementation="com.shuyixiao.jenkins.icon.JenkinsFileIconDecorator"/>
        
        <!-- Spring Boot Helper 扩展 -->
        <!-- Spring Boot Helper 设置 -->
        <applicationService serviceImplementation="com.shuyixiao.spring.boot.settings.SpringBootHelperSettings"/>
        <applicationConfigurable groupId="tools" displayName="Spring Boot Helper" id="SpringBootHelperConfiguration"
                                instance="com.shuyixiao.spring.boot.settings.SpringBootHelperConfigurable"/>
        
        <!-- Spring Boot 图标提供器：为Spring Boot配置文件提供图标显示 -->
        <iconProvider implementation="com.shuyixiao.spring.boot.icon.SpringBootIconProvider"/>
        
        <!-- Spring Boot 文件图标提供器：确保Spring Boot配置文件图标不被主题覆盖 -->
        <fileIconProvider implementation="com.shuyixiao.spring.boot.icon.SpringBootFileIconDecorator"/>
        
        <!-- Spring Boot 配置属性管理器 -->
        <projectService serviceImplementation="com.shuyixiao.spring.boot.config.SpringBootConfigPropertyManager"/>
        
        <!-- Spring Boot 注解管理器 -->
        <projectService serviceImplementation="com.shuyixiao.spring.boot.annotation.SpringBootAnnotationManager"/>
        
        <!-- Spring Boot 配置文件智能补全 -->
        <completion.contributor language="Properties" 
            implementationClass="com.shuyixiao.spring.boot.completion.SpringBootConfigCompletionContributor"/>
        
        <!-- Spring Boot YAML配置文件智能补全 -->
        <completion.contributor language="yaml" 
            implementationClass="com.shuyixiao.spring.boot.completion.SpringBootConfigCompletionContributor"/>
        
        <!-- Spring Boot 配置文件文档提供器 -->
        <lang.documentationProvider language="Properties" 
            implementationClass="com.shuyixiao.spring.boot.documentation.SpringBootConfigDocumentationProvider"/>
        
        <!-- Spring Boot YAML配置文件文档提供器 -->
        <lang.documentationProvider language="yaml" 
            implementationClass="com.shuyixiao.spring.boot.documentation.SpringBootConfigDocumentationProvider"/>
        
        <!-- Spring Boot YAML配置文件行标记提供器：显示技术栈图标 -->
        <codeInsight.lineMarkerProvider language="yaml"
            implementationClass="com.shuyixiao.spring.boot.icon.SpringBootYamlLineMarkerProvider"/>
        
        <!-- Spring Boot Properties配置文件行标记提供器：显示技术栈图标 -->
        <codeInsight.lineMarkerProvider language="Properties"
            implementationClass="com.shuyixiao.spring.boot.icon.SpringBootPropertiesLineMarkerProvider"/>
    </extensions>
    <actions>
        <action id="ReportMessage" class="com.shuyixiao.ReportMessage" text="关于PandaCoder"
                description="Show PandaCoder plugin information">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </action>

        <action id="ConvertToCamelCase" class="com.shuyixiao.ConvertToCamelCaseAction" text="中文转小驼峰" description="Convert selected Chinese text to camelCase naming format">
            <add-to-group group-id="EditorPopupMenu" anchor="after" relative-to-action="ReportMessage"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt C"/>
        </action>

        <action id="ConvertToPascalCase" class="com.shuyixiao.ConvertToPascalCaseAction" text="中文转大驼峰" description="Convert selected Chinese text to PascalCase naming format">
            <add-to-group group-id="EditorPopupMenu" anchor="after" relative-to-action="ConvertToCamelCase"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt P"/>
        </action>

        <action id="ConvertToUpperCase" class="com.shuyixiao.ConvertToUpperCaseAction" text="中文转大写带下划线" description="Convert selected Chinese text to UPPER_CASE naming format">
            <add-to-group group-id="EditorPopupMenu" anchor="after" relative-to-action="ConvertToPascalCase"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt U"/>
        </action>

        <!-- Feature to support Chinese input in native dialog -->
        <action id="ChineseFileCreation" class="com.shuyixiao.ChineseClassCreationAction" text="Smart Chinese Class" description="Create class with Chinese input automatically converted to English class name">
            <add-to-group group-id="NewGroup" anchor="first"/>
        </action>
    </actions>
</idea-plugin>
